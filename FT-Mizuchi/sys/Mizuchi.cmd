;-| AIスイッチ (入れてるだけ)|--------------------------------------------------------
[Command]
name = "CPU_01"
command = ~U,U,U,U,U,U,U,U,U,U,x
time = 0

[Command]
name = "CPU_02"
command = ~U,U,U,U,U,U,U,U,U,U,y
time = 0

[Command]
name = "CPU_03"
command = ~U,U,U,U,U,U,U,U,U,U,z
time = 0

[Command]
name = "CPU_04"
command = ~U,U,U,U,U,U,U,U,U,U,a
time = 0

[Command]
name = "CPU_05"
command = ~U,U,U,U,U,U,U,U,U,U,b
time = 0

[Command]
name = "CPU_06"
command = ~U,U,U,U,U,U,U,U,U,U,c
time = 0

[Command]
name = "CPU_07"
command = ~F,F,F,F,F,F,F,F,F,F,x
time = 0

[Command]
name = "CPU_08"
command = ~F,F,F,F,F,F,F,F,F,F,y
time = 0

[Command]
name = "CPU_09"
command = ~F,F,F,F,F,F,F,F,F,F,z
time = 0

[Command]
name = "CPU_10"
command = ~F,F,F,F,F,F,F,F,F,F,a
time = 0

[Command]
name = "CPU_11"
command = ~F,F,F,F,F,F,F,F,F,F,b
time = 0

[Command]
name = "CPU_12"
command = ~F,F,F,F,F,F,F,F,F,F,c
time = 0

[Command]
name = "CPU_13"
command = ~D,D,D,D,D,D,D,D,D,D,x
time = 0

[Command]
name = "CPU_14"
command = ~D,D,D,D,D,D,D,D,D,D,y
time = 0

[Command]
name = "CPU_15"
command = ~D,D,D,D,D,D,D,D,D,D,z
time = 0

[Command]
name = "CPU_16"
command = ~D,D,D,D,D,D,D,D,D,D,a
time = 0

[Command]
name = "CPU_17"
command = ~D,D,D,D,D,D,D,D,D,D,b
time = 0

[Command]
name = "CPU_18"
command = ~D,D,D,D,D,D,D,D,D,D,c
time = 0

[Command]
name = "CPU_19"
command = ~B,B,B,B,B,B,B,B,B,B,x
time = 0

[Command]
name = "CPU_20"
command = ~B,B,B,B,B,B,B,B,B,B,y
time = 0

[Command]
name = "CPU_21"
command = ~B,B,B,B,B,B,B,B,B,B,z
time = 0

[Command]
name = "CPU_22"
command = ~B,B,B,B,B,B,B,B,B,B,a
time = 0

[Command]
name = "CPU_23"
command = ~B,B,B,B,B,B,B,B,B,B,b
time = 0

[Command]
name = "CPU_24"
command = ~B,B,B,B,B,B,B,B,B,B,c
time = 0

[Command]
name = "CPU_25"
command = ~U,x,D,b,B,y,F,a
time = 0

[Command]
name = "CPU_26"
command = ~U,U,U,U,U,U,U,U,U,U,x+y
time = 0

[Command]
name = "CPU_27"
command = ~U,U,U,U,U,U,U,U,U,U,y+z
time = 0

[Command]
name = "CPU_28"
command = ~U,U,U,U,U,U,U,U,U,U,z+x
time = 0

[Command]
name = "CPU_29"
command = ~U,U,U,U,U,U,U,U,U,U,a+b
time = 0

[Command]
name = "CPU_30"
command = ~U,U,U,U,U,U,U,U,U,U,b+c
time = 0

[Command]
name = "CPU_31"
command = ~U,U,U,U,U,U,U,U,U,U,c+a
time = 0

[Command]
name = "CPU_32"
command = ~F,F,F,F,F,F,F,F,F,F,x+y
time = 0

[Command]
name = "CPU_33"
command = ~F,F,F,F,F,F,F,F,F,F,y+z
time = 0

[Command]
name = "CPU_34"
command = ~F,F,F,F,F,F,F,F,F,F,z+x
time = 0

[Command]
name = "CPU_35"
command = ~F,F,F,F,F,F,F,F,F,F,a+b
time = 0

[Command]
name = "CPU_36"
command = ~F,F,F,F,F,F,F,F,F,F,b+c
time = 0

[Command]
name = "CPU_37"
command = ~F,F,F,F,F,F,F,F,F,F,c+a
time = 0

[Command]
name = "CPU_38"
command = ~D,D,D,D,D,D,D,D,D,D,x+y
time = 0

[Command]
name = "CPU_39"
command = ~D,D,D,D,D,D,D,D,D,D,y+z
time = 0

[Command]
name = "CPU_40"
command = ~D,D,D,D,D,D,D,D,D,D,z+x
time = 0

[Command]
name = "CPU_41"
command = ~D,D,D,D,D,D,D,D,D,D,a+b
time = 0

[Command]
name = "CPU_42"
command = ~D,D,D,D,D,D,D,D,D,D,b+c
time = 0

[Command]
name = "CPU_43"
command = ~D,D,D,D,D,D,D,D,D,D,c+a
time = 0

[Command]
name = "CPU_44"
command = ~B,B,B,B,B,B,B,B,B,B,x+y
time = 0

[Command]
name = "CPU_45"
command = ~B,B,B,B,B,B,B,B,B,B,y+z
time = 0

[Command]
name = "CPU_46"
command = ~B,B,B,B,B,B,B,B,B,B,z+x
time = 0

[Command]
name = "CPU_47"
command = ~B,B,B,B,B,B,B,B,B,B,a+b
time = 0

[Command]
name = "CPU_48"
command = ~B,B,B,B,B,B,B,B,B,B,b+c
time = 0

[Command]
name = "CPU_49"
command = ~B,B,B,B,B,B,B,B,B,B,c+a
time = 0

[Command];このコマンドわかる人いるかな？
name = "CPU_50"
command = ~y,a,b,a,y,a,b,a
time = 0





;-| 超必殺技 |--------------------------------------------------------
[Command]
name = "オロチMAX"
command = ~D,DB,B,D,DB,B, y
time = 30

[Command]
name = "オロチMAX"
command = ~D,DB,B,D,DB,B, x
time = 30


[Command]
name = "吸い寄せ"
command = ~D,DF,F,D,DF,F, b
time = 30

[Command]
name = "吸い寄せ"
command = ~D,DF,F,D,DF,F, a
time = 30



[Command]
name = "混"
command = ~D,DF,F,D,DF,F, y
time = 30

[Command]
name = "混"
command = ~D,DF,F,D,DF,F, x
time = 30


[Command]
name = "大神"
command = ~F,DF,D,DB,B,F,DF,D,DB,B, y
time = 30

[Command]
name = "大神"
command = ~F,DF,D,DB,B,F,DF,D,DB,B, x
time = 30


;-| 必殺技 |------------------------------------------------------
[Command]
name = "死祟"
command = ~D,DF,F, s


[Command]
name = "強御大"
command = ~D,DB,B, y


[Command]
name = "弱御大"
command = ~D,DB,B, x



[Command]
name = "強糺"
command = ~F,DF,D,DB,B,F, b
time = 25

[Command]
name = "弱糺"
command = ~F,DF,D,DB,B,F, a
time = 25


[Command]
name = "火闌降4"
command = ~F,DF,D,DB,B, z
time = 25

[Command]
name = "火闌降3"
command = ~F,DF,D,DB,B, b
time = 25

[Command]
name = "火闌降2"
command = ~F,DF,D,DB,B, y
time = 25

[Command]
name = "火闌降1"
command = ~F,DF,D,DB,B, a
time = 25

[Command]
name = "火闌降0"
command = ~F,DF,D,DB,B, x
time = 25


[Command]
name = "強顕斎"
command = ~F,D,DF, y

[Command]
name = "弱顕斎"
command = ~F,D,DF, x


[Command]
name = "誓約"
command = ~F,D,DF, b


[Command]
name = "強解除"
command = ~F,B,DB,D,DF,F, y
time = 25

[Command]
name = "弱解除"
command = ~F,B,DB,D,DF,F, x
time = 25


[Command]
name = "カウンター"
command = ~D,DF,F, b

[Command]
name = "カウンター"
command = ~D,DF,F, a


[Command]
name = "強オロチ鏡斜め"
command = ~B,D,DB, y

[Command]
name = "弱オロチ鏡斜め"
command = ~B,D,DB, x


[Command]
name = "オロチ飛び道具"
command = ~D,DF,F, y

[Command]
name = "オロチ飛び道具"
command = ~D,DF,F, x


[Command]
name = "ワープ"
command = ~D,D, x

[Command]
name = "ワープ"
command = ~D,D, a

[Command]
name = "ワープ"
command = ~D,D, y

[Command]
name = "ワープ"
command = ~D,D, b

[Command]
name = "ワープ"
command = ~D,D, z

[Command]
name = "ワープ"
command = ~D,D, c






[Command]
name = "緊急回避前"
command = x+a
time = 1

[Command]
name = "緊急回避前"
command = z
time = 1

[Command]
name = "緊急回避後"
command = /$B,x+a
time = 1

[Command]
name = "緊急回避後"
command = /$B,z
time = 1

;-| ２回押し技 |-----------------------------------------------------------
[Command]
name = "FF"     
command = F, F
time = 10

[Command]
name = "BB"     
command = B, B
time = 10

;-| ２・３個の同時押し技 |-----------------------------------------------
[Command]
name = "ゲージ溜め発動"
command = z+c
time = 1

[Command]
name = "recovery"
command = x+y
time = 1

[Command]
name = "投げ"
command = y+b
time = 1

[Command]
name = "ふっ飛ばし"
command = c
time = 1

[Command]
name = "MAX"
command = a+y
time = 1

[Command]
name = "ストライカー"
command = a+y
time = 1

[Command]
name = "おしっぱなしx"
command = /$x
time = 1

[Command]
name = "おしっぱなしy"
command = /$y
time = 1

[Command]
name = "おしっぱなしa"
command = /$a
time = 1

[Command]
name = "おしっぱなしb"
command = /$b
time = 1

[Command]
name = "おしっぱなしz"
command = /$z
time = 1

[Command]
name = "おしっぱなしc"
command = /$c
time = 1

;-| 方向とボタンで出す技 |---------------------------------------------------------
[Command]
name = "ローキック"
command = /$F,a
time = 1

[Command]
name = "スライディング"
command = /$DF,a
time = 1

[Command]
name = "夏の思ひで"
command = /$D,b
time = 1


[Command]
name = "氷柱割り"
command = /$F,x
time = 1

[Command]
name = "下段受け"
command = /$DF,a
time = 1

[Command]
name = "上段受け"
command = /$F,a
time = 1

[Command]
name = "避け攻撃"
command = /$B,x
time = 1

[Command]
name = "ダッキング攻撃"
command = /$B,a
time = 1

[Command]
name = "大回転蹴り"
command = /$F,x
time = 1

[Command]
name = "棒高跳び蹴り"
command = /$F,a
time = 1


[Command]
name = "down_a"
command = /$D,a
time = 1

[Command]
name = "down_b"
command = /$D,b
time = 1

;-| ボタン設定（いじらない）|---------------------------------------------------------
[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

;-| 押しっぱなし設定（いじらない）-------------------------------------------------------
[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup" 
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1


; 下の記述↓は絶対に消さないでください。
[Statedef -1]
;・変数使用
;　2 = 勝利ポーズ変更
;　3 = クイックMAX判定
;　4 = スロー処理
;　
;　
;　7 = 火闌降コマンド受付判定
; 10 = プレイヤーの向き設定
; 11 = MAX発動コマンド判定
; 12 = KOサウンド
; 13 = 火闌降連続ダメージ規制
; 14 = 混ヒットカウント関係
; 15 = ハイジャンプ
; 16 = 小ジャンプ
; 17 = ダメージ補正に使用
; 
; 19 = 背景のフェードイン、フェードアウト
;
; 30 = AI判定(にしたいな…)


[State ]
type = RemoveExplod
trigger1 = !ishelper
id = 9000+GameTime
ignorehitpause = 1
[State ]
type = RemoveExplod
trigger1 = !ishelper
id = 3
ignorehitpause = 1
[state ]
type=tagout
trigger1=movetype=h
ignorehitpause=1
;===========================================================================
;AI動作
;---------------------------------------------------------------------------

;反応速度設定
[state -3, ]
type = varset
Trigger1 = 1
V = 55
value = 60-var(56)*5
ignorehitpause = 1


;================================================================================================================================================================================================================================================================
;コンボ確認
;================================================================================================================================================================================================================================================================
[State -3]
Type = varset
Trigger1 = Stateno = 1151
var(58) = 1


[State -3]
Type = varset
Trigger1 = Stateno = 1251
var(58) = 2


[State -3]
Type = varset
Trigger1 = Stateno = 291 && MoveHit
var(58) = 3


[State -3]
Type = varset
Trigger1 = Stateno = 2100
var(58) = 1


[State -3]
Type = varset
Trigger1 = enemynear(floor(fvar(36))),MoveType != H
Trigger2 = enemynear(floor(fvar(36))),StateType = L
Trigger3 = Stateno = 2200
var(58) = 0


[State -3]
Type = VarAdd
Trigger1 = enemynear(floor(fvar(36))),Stateno = 1420 && EnemyNear(floor(fvar(36))),time = 1
var(57) = 1
ignorehitpause = 1


[State -3]
Type = varset
Trigger1 = enemynear(floor(fvar(36))),MoveType != H
Trigger2 = enemynear(floor(fvar(36))),StateType = L
var(57) = 0
ignorehitpause = 1


;================================================================================================================================================================================================================================================================
;重力加速度計算
;================================================================================================================================================================================================================================================================
[state -3, yaccel]
type = varset
Trigger1 = fvar(30) != EnemyNear(floor(fvar(36))),const(movement.yaccel)
Trigger1 = EnemyNear(floor(fvar(36))),stateno != [5000,5210]
Trigger1 = EnemyNear(floor(fvar(36))),Vel Y != 0
FV = 30
value = EnemyNear(floor(fvar(36))),const(movement.yaccel)
ignorehitpause = 1


[state -3, yaccel]
type = varset
Trigger1 = fvar(30) != EnemyNear(floor(fvar(36))),GetHitVar(yaccel)
Trigger1 = EnemyNear(floor(fvar(36))),stateno = [5000,5210]
Trigger2 = fvar(30) != EnemyNear(floor(fvar(36))),GetHitVar(yaccel)
Trigger2 = EnemyNear(floor(fvar(36))),stateno = [5000,5210]
;Trigger1 = EnemyNear(floor(fvar(36))),Vel Y != 0
FV = 30
value = EnemyNear(floor(fvar(36))),GetHitVar(yaccel);(打撃当てた時のyaccel値)
ignorehitpause = 1


[state -3, yaccel]
type = varset
Trigger1 = fvar(30) != 0
Trigger1 = EnemyNear(floor(fvar(36))),Vel Y = 0
FV = 30
value = 0
ignorehitpause = 1


;================================================================================================================================================================================================================================================================
;相手生存確認
;================================================================================================================================================================================================================================================================
[State -3]
Type = varset
Trigger1 = numenemy=1
fvar(36) = 0
[State -3]
Type = varset
Trigger1 = numenemy=2
fvar(36) = ifelse(EnemyNear(0),alive,0,1)

;再現P2BodyDist
[state ]
type=null
trigger1=fvar(1):=0||1
trigger1=statetype!=a&&EnemyNear(floor(fvar(36))),statetype!=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing=1)&&facing=1
trigger2=statetype!=a&&EnemyNear(floor(fvar(36))),statetype!=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing=1)
trigger3=statetype!=a&&EnemyNear(floor(fvar(36))),statetype!=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing!=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing!=1)&&facing=1
trigger4=statetype!=a&&EnemyNear(floor(fvar(36))),statetype!=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing!=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing!=1)
trigger5=statetype=a&&EnemyNear(floor(fvar(36))),statetype!=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing=1)&&facing=1
trigger6=statetype=a&&EnemyNear(floor(fvar(36))),statetype!=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing=1)
trigger7=statetype=a&&EnemyNear(floor(fvar(36))),statetype!=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing!=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing!=1)&&facing=1
trigger8=statetype=a&&EnemyNear(floor(fvar(36))),statetype!=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing!=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing!=1)
trigger9=statetype!=a&&EnemyNear(floor(fvar(36))),statetype=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing=1)&&facing=1
trigger10=statetype!=a&&EnemyNear(floor(fvar(36))),statetype=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing=1)
trigger11=statetype!=a&&EnemyNear(floor(fvar(36))),statetype=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing!=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing!=1)&&facing=1
trigger12=statetype!=a&&EnemyNear(floor(fvar(36))),statetype=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing!=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing!=1)
trigger13=statetype=a&&EnemyNear(floor(fvar(36))),statetype=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing=1)&&facing=1
trigger14=statetype=a&&EnemyNear(floor(fvar(36))),statetype=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing=1)
trigger15=statetype=a&&EnemyNear(floor(fvar(36))),statetype=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing!=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing!=1)&&facing=1
trigger16=statetype=a&&EnemyNear(floor(fvar(36))),statetype=a&&(pos x<EnemyNear(floor(fvar(36))),pos x&&EnemyNear(floor(fvar(36))),facing!=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&EnemyNear(floor(fvar(36))),facing!=1)
trigger1=fvar(1):=ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.ground.front)+EnemyNear(floor(fvar(36))),pos x-(pos x+const(size.ground.front))||1
trigger2=fvar(1):=pos x-const(size.ground.front)-(ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.ground.front)+EnemyNear(floor(fvar(36))),pos x)||1
trigger3=fvar(1):=ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.ground.back)+EnemyNear(floor(fvar(36))),pos x-(pos x+const(size.ground.front))||1
trigger4=fvar(1):=pos x-const(size.ground.front)-(ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.ground.back)+EnemyNear(floor(fvar(36))),pos x)||1
trigger5=fvar(1):=ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.ground.front)+EnemyNear(floor(fvar(36))),pos x-(pos x+const(size.air.front))||1
trigger6=fvar(1):=pos x-const(size.air.front)-(ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.ground.front)+EnemyNear(floor(fvar(36))),pos x)||1
trigger7=fvar(1):=ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.ground.back)+EnemyNear(floor(fvar(36))),pos x-(pos x+const(size.air.front))||1
trigger8=fvar(1):=pos x-const(size.air.front)-(ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.ground.back)+EnemyNear(floor(fvar(36))),pos x)||1
trigger9=fvar(1):=ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.air.front)+EnemyNear(floor(fvar(36))),pos x-(pos x+const(size.ground.front))||1
trigger10=fvar(1):=pos x-const(size.ground.front)-(ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.air.front)+EnemyNear(floor(fvar(36))),pos x)||1
trigger11=fvar(1):=ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.air.back)+EnemyNear(floor(fvar(36))),pos x-(pos x+const(size.ground.front))||1
trigger12=fvar(1):=pos x-const(size.ground.front)-(ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.air.back)+EnemyNear(floor(fvar(36))),pos x)||1
trigger13=fvar(1):=ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.air.front)+EnemyNear(floor(fvar(36))),pos x-(pos x+const(size.air.front))||1
trigger14=fvar(1):=pos x-const(size.air.front)-(ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.air.front)+EnemyNear(floor(fvar(36))),pos x)||1
trigger15=fvar(1):=ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.air.back)+EnemyNear(floor(fvar(36))),pos x-(pos x+const(size.air.front))||1
trigger16=fvar(1):=pos x-const(size.air.front)-(ifelse(pos x<EnemyNear(floor(fvar(36))),pos x,-1,1)*EnemyNear(floor(fvar(36))),const(size.air.back)+EnemyNear(floor(fvar(36))),pos x)||1

[state ]
type=null
trigger1=fvar(7):=0||1
trigger1=pos x<EnemyNear(floor(fvar(36))),pos x&&facing=1||EnemyNear(floor(fvar(36))),pos x<pos x&&facing=1
trigger2=pos x<EnemyNear(floor(fvar(36))),pos x&&facing=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&facing=-1
trigger1=fvar(7):=enemy,pos x-pos x
trigger2=fvar(7):=pos x-enemy,pos x

[state ]
type=null
trigger1=fvar(7):=0||1
trigger1=pos x<EnemyNear(floor(fvar(36))),pos x&&facing=1||EnemyNear(floor(fvar(36))),pos x<pos x&&facing=1
trigger2=pos x<EnemyNear(floor(fvar(36))),pos x&&facing=-1||EnemyNear(floor(fvar(36))),pos x<pos x&&facing=-1
trigger1=fvar(7):=EnemyNear(floor(fvar(36))),pos x-pos x
trigger2=fvar(7):=pos x-EnemyNear(floor(fvar(36))),pos x

[state ]
type=varset
trigger1=1
fvar(3)=EnemyNear(floor(fvar(36))),pos y-pos y

;混
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2100
triggerall = var(30)&&roundstate=2;&&!var(56); = "混"
triggerall = ((Power>PowerMax*2/3)&&(random<220))||((Power>PowerMax/2)&&(random<150))||((Power>PowerMax/3)&&(random<100))||((Power>PowerMax/4)&&(random<60))||(power&&(random<40||((var(59)&16)&&life<(lifemax/5)&&random<200)))||var(30)!=[0,3]
triggerall = (var(30)=1&&(life<(lifemax*2/5)))||(var(30)=2&&(life<(lifemax*2/3)))||(var(30)!=[0,2])||((var(30)=1)&&(((lifemax/2)>life)&&(enemy,life>(enemy,lifemax/2))))
trigger1 = statetype != A
trigger1 = ctrl&&movetype!=h&&(random<180||((var(30)!=[0,3])&&random<300))
trigger2 = roundstate < 2
trigger2 = stateno != 2100 && stateno != 2000 && stateno != 2005
trigger2 = playeridexist(sysvar(1))
trigger2 = playerid(sysvar(1)),gethitvar(damage)
trigger2 = gametime%2
;---------------------------------------------------------------------------
;大神
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = var(30)&&roundstate=2;&&!var(56); = "大神"
triggerall = ((Power>PowerMax*2/3)&&(random<220))||((Power>PowerMax/2)&&(random<150))||((Power>PowerMax/3)&&(random<100))||((Power>PowerMax/4)&&(random<60))||(power&&(random<40||((var(59)&16)&&life<(lifemax/5)&&random<200)))||var(30)!=[0,3]
triggerall = (var(30)=1&&(life<(lifemax*2/5)))||(var(30)=2&&(life<(lifemax*2/3)))||(var(30)!=[0,2])||((var(30)=1)&&(((lifemax/2)>life)&&(enemy,life>(enemy,lifemax/2))))
triggerall = numhelper(2)||!(random%20)
triggerall = helper(2),anim=9000||!(random%20)
trigger1 = abs(fvar(1)) = [0,100]
trigger1 = abs(fvar(3)) = [0,100]
trigger1 = statetype != A
trigger1 = ctrl&&movetype!=h&&(random<220||((var(30)!=[0,3])&&random<300))
trigger2 = roundstate < 2
trigger2 = stateno != 2100 && stateno != 2000 && stateno != 2005
trigger2 = playeridexist(sysvar(1))
trigger2 = playerid(sysvar(1)),gethitvar(damage)

;================================================================================================================================================================================================================================================================
;ミズチ反撃
;================================================================================================================================================================================================================================================================
;近距離立ち強キック
[State -1, Standing Strong Kick]
type = ChangeState
value = 245
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -10
TriggerAll = !EnemyNear(floor(fvar(36))),Ctrl
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = (Prevstateno = [5000,5029]) || (PrevStateNo=[120,159]) 
TriggerAll = fvar(1) = [-5,18]
TriggerAll = fvar(3) = [-56-floor(10*(EnemyNear(floor(fvar(36))),vel Y)+(10*(10+1)/2)*fvar(30)),0-floor(10*(EnemyNear(floor(fvar(36))),vel Y)+(10*(10+1)/2)*fvar(30))]
Trigger1 = Random<= var(56)*100
Trigger1 = EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger2 = var(56) >= 10
Trigger2 = Random<= 250
Trigger3 = var(56) >= 11


;しゃがみ弱キック
[State -3, Crouching Light Kick]
type = ChangeState
value = 430
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -4
TriggerAll = !EnemyNear(floor(fvar(36))),Ctrl
TriggerAll = enemynear(floor(fvar(36))),statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = (Prevstateno = [5000,5029]) || (PrevStateNo=[120,159]) || prevstateno = 1805
TriggerAll = fvar(1) = [-1,56]
TriggerAll = fvar(3) >= 0
Trigger1 = Random<= var(56)*100
Trigger1 = EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger2 = var(56) >= 10
Trigger2 = Random<= 250
Trigger3 = var(56) >= 11


;門客人
[State -3,]
type = ChangeState
value = 800
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = Statetype != A
TriggerAll = enemynear(floor(fvar(36))),StateType != A
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = fvar(1) = [-5,18]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = (PrevStateNo=[5000,5029]) || (PrevStateNo=[120,159]) || prevstateno = 1805 
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -3
TriggerAll = EnemyNear(floor(fvar(36))),ctrl = 0
Trigger1 = Random<= var(56)*100
Trigger1 = EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger2 = var(56) >= 10
Trigger2 = Random<= 250
;Trigger3 = var(56) >= 11

;================================================================================================================================================================================================================================================================
;ミズチカウンター
;================================================================================================================================================================================================================================================================
;大神
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = var(56) > 0
triggerall = power >= 1000
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(36))),statetype != A
TriggerAll = fvar(3) >= 0
TriggerAll = fvar(1) = [-5,35]
triggerall = numhelper(2)||!(random%20)
triggerall = helper(2),anim=9000||!(random%20)
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
TriggerAll = enemynear(floor(fvar(36))),Movetype = A
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -2
triggerall = ((var(56) <=5)&& random <= var(56)*15) || ((var(56) = [6,9]) && random <= var(56)*25) || var(56) = 10 && random <= var(56)*35 || var(56) >= 11
Trigger1 = EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger2 = (PrevStateNo=[5000,5270]) && EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger3 = (PrevStateNo=[120,159]) && EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger4 = var(56) >= 11
trigger4 = random < 250

;大神
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = var(56) > 0
triggerall = power >= 1000
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(36))),statetype != A
TriggerAll = fvar(3) >= 0
TriggerAll = fvar(1) = [-5,80]
triggerall = numhelper(2)||!(random%20)
triggerall = helper(2),anim=9000||!(random%20)
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
TriggerAll = enemynear(floor(fvar(36))),Movetype = A
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -18
triggerall = ((var(56) <=5)&& random <= var(56)*15) || ((var(56) = [6,9]) && random <= var(56)*25) || var(56) = 10 && random <= var(56)*35 || var(56) >= 11
Trigger1 = EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger2 = (PrevStateNo=[5000,5270]) && EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger3 = (PrevStateNo=[120,159]) && EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger4 = var(56) >= 11
trigger4 = random < 250


;弱糺
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1300
triggerall = var(56) > 0
triggerall = power >= 500
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(36))),statetype != C
TriggerAll = fvar(1) = [0+floor(1*(EnemyNear(floor(fvar(36))),vel X)),45+floor(1*(EnemyNear(floor(fvar(36))),vel X))]
TriggerAll = fvar(3) = [-75-floor(1*(EnemyNear(floor(fvar(36))),vel Y)+(1*(1+1)/2)*fvar(30)),-0-floor(1*(EnemyNear(floor(fvar(36))),vel Y)+(1*(1+1)/2)*fvar(30))]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
TriggerAll = enemynear(floor(fvar(36))),Movetype = A
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -1
triggerall = ((var(56) <=5)&& random <= var(56)*15) || ((var(56) = [6,9]) && random <= var(56)*25) || var(56) = 10 && random <= var(56)*35 || var(56) >= 11
Trigger1 = EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger2 = (PrevStateNo=[5000,5270]) && EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger3 = (PrevStateNo=[120,159]) && EnemyNear(floor(fvar(36))),Time >= var(55)
Trigger4 = var(56) >= 11



;================================================================================================================================================================================================================================================================
;ガード
;================================================================================================================================================================================================================================================================
[State -3];			空中時
Type = null;ChangeState
Value = 120
TriggerAll = RoundState = 2
TriggerAll = var(56) > 0
TriggerAll = StateType = A
TriggerAll = Ctrl
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
TriggerAll = Random<=var(56)*100
Trigger1 = 1 || (Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = 1 || Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0 
Trigger2 = Enemy,NumProj > 0 
Trigger3 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = fvar(1) < 0
Trigger4 = EnemyNear(floor(fvar(36))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = Enemy,NumHelper
Trigger5 = 1


[State -3];			地上時
Type = null;ChangeState
Value = 120
TriggerAll = RoundState = 2
TriggerAll = var(56) > 0
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || Stateno = 101
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
TriggerAll = Random<=var(56)*100
Trigger1 = 1 || (Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = 1 || Facing*(EnemyNear(floor(fvar(36))),Facing)*P2Dist X >0 
Trigger2 = Enemy,NumProj > 0
Trigger3 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = fvar(1) < 0
Trigger4 = EnemyNear(floor(fvar(36))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(36))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(36))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = Enemy,NumHelper
Trigger5 = 1


[State -3] ;空中受身
type = ChangeState
value = 5210
TriggerAll = RoundState = 2
TriggerAll = var(56) > 0
TriggerAll = Alive
TriggerAll = CanRecover
TriggerAll = Vel Y > -1
TriggerAll = stateno = 5050
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*15
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*40
trigger3 = var(56) >= 10

[State -3] ;空中受身
type = ChangeState
value = 5210
TriggerAll = RoundState = 2
TriggerAll = Alive
TriggerAll = CanRecover
TriggerAll = Vel Y > -1
TriggerAll = stateno = 5050
Trigger1 = 1


;ダウン回避
[State -3, Taunt]
type = ChangeState
value = 702
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
Triggerall = Random <= var(56)*30
TriggerAll = Life > 0
TriggerAll = Alive
trigger1 = stateno = 5050
trigger1 = pos y >=-40


;================================================================================================================================================================================================================================================================
;ガードキャンセル
;================================================================================================================================================================================================================================================================
;ガードキャンセルタクティカルステップ
[State -1, 700]
type = ChangeState
value = 700
triggerall = var(56) > 0
triggerall = power >= 1000
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(36))),statetype != A
TriggerAll = fvar(3) >= 0
TriggerAll = fvar(1) = [0,120]
Triggerall = (stateno = 150 || stateno = 151) 
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -20
TriggerAll = !EnemyNear(floor(fvar(36))),ctrl
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*15
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*40
trigger3 = var(56) >= 10


;ガードキャンセルフロントステップ
[State -3, ]
type = ChangeState
value = 100
triggerall = var(56) > 0
triggerall = power >= 500
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(36))),statetype != A
;TriggerAll = !1
TriggerAll = !Enemy,NumProj
TriggerAll = fvar(3) >= 0
TriggerAll = fvar(1) = [0,40]
Triggerall = (stateno = 150 || stateno = 151) 
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -10
TriggerAll = !EnemyNear(floor(fvar(36))),ctrl
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*15
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*40
trigger3 = var(56) >= 10


;ガードキャンセルふっ飛ばし攻撃
[State -3, 290]
type = ChangeState
value = 291
triggerall = var(56) > 0
triggerall = power >= 500
TriggerAll = RoundState = 2
triggerall = statetype != A
TriggerAll = fvar(3) = [-75-floor(3*(EnemyNear(floor(fvar(36))),vel Y)+(3*(3+1)/2)*fvar(30)),0-floor(3*(EnemyNear(floor(fvar(36))),vel Y)+(3*(3+1)/2)*fvar(30))]
TriggerAll = fvar(1) = [0,35]
Triggerall = (stateno = 150 || stateno = 151) 
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -4
TriggerAll = !EnemyNear(floor(fvar(36))),ctrl
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*15
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*40
trigger3 = var(56) >= 10

;================================================================================================================================================================================================================================================================
;ミズチ起き攻め
;================================================================================================================================================================================================================================================================
;弱解除
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 1000
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = numhelper(1000) = 0
triggerall = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
TriggerAll = enemynear(floor(fvar(36))),statetype = L
TriggerAll = fvar(1) >= 60
Triggerall = enemynear(floor(fvar(36))),StateNo = 5110
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;停止
[State -3,]
type = ChangeState
value = 0
ctrl = 1
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = statetype != A
TriggerAll = Ctrl || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 
TriggerAll = enemynear(floor(fvar(36))),statetype = L
Triggerall = fvar(1) = [61,120]
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;後退
[State -3,]
type = ChangeState
value = 19
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = statetype != A
TriggerAll = Ctrl || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3)
TriggerAll = enemynear(floor(fvar(36))),statetype = L
Triggerall = fvar(1) <= 30
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;前進
[State -3,]
type = ChangeState
value = 21
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = statetype != A
TriggerAll = Ctrl  || stateno = 19 || stateno = 20 ||  (stateno = 52 && Time >= 3) 
TriggerAll = enemynear(floor(fvar(36))),statetype = L
Triggerall = fvar(1) >= 121
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;================================================================================================================================================================================================================================================================
;ミズチ追い討ち
;================================================================================================================================================================================================================================================================
;混
[State -3,]
type = ChangeState
value = 2100
triggerall = var(56) > 0
triggerall = power >= 2000
TriggerAll = RoundState = 2
triggerall = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
TriggerAll = enemynear(floor(fvar(36))),movetype = H
TriggerAll = enemynear(floor(fvar(36))),statetype != L
TriggerAll = enemynear(floor(fvar(36))),Stateno = 1205
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;火闌降
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 1400
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
TriggerAll = enemynear(floor(fvar(36))),movetype = H
TriggerAll = enemynear(floor(fvar(36))),statetype != L
triggerall = ((var(56) <=5)&& random <= var(56)*25) || ((var(56) = [6,9]) && random <= var(56)*45) || var(56) >= 10
Trigger1 = enemynear(floor(fvar(36))),Stateno = 1205
Trigger2 = enemynear(floor(fvar(36))),Stateno = 1420
Trigger2 = var(56) = [1,11]
Trigger2 = var(57) <= 4
Trigger3 = PrevStateno != 1400
Trigger3 = NumHelper(1000) 
Trigger3 = NumHelper(1400) = 0
trigger3 = (enemynear(floor(fvar(36))),stateno = [5000,5120]) || (enemynear(floor(fvar(36))),StateNo = [120,155])
Trigger3 = fvar(1) >= 160
Trigger4 = enemynear(floor(fvar(36))),Stateno = 1420
Trigger4 = var(56) >= 12


;強解除
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 1001
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = numhelper(1000) = 0
triggerall = numhelper(2100) = 0
triggerall = statetype != A
TriggerAll = enemynear(floor(fvar(36))),movetype = H
TriggerAll = enemynear(floor(fvar(36))),statetype != L
triggerall = ((var(56) <=5)&& random <= var(56)*25) || ((var(56) = [6,9]) && random <= var(56)*45) || var(56) >= 10
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
triggerall = var(58) = 1
Trigger1 = fvar(3) = [-113-floor(36*(EnemyNear(floor(fvar(36))),vel Y)+(36*(36+1)/2)*fvar(30)),-1-floor(36*(EnemyNear(floor(fvar(36))),vel Y)+(36*(36+1)/2)*fvar(30))]
Trigger1 = fvar(1) >= 200
Trigger2 = fvar(3) = [-113-floor(32*(EnemyNear(floor(fvar(36))),vel Y)+(32*(32+1)/2)*fvar(30)),-1-floor(32*(EnemyNear(floor(fvar(36))),vel Y)+(32*(32+1)/2)*fvar(30))]
Trigger2 = fvar(1) = [151,199] 
Trigger3 = fvar(3) = [-113-floor(26*(EnemyNear(floor(fvar(36))),vel Y)+(26*(26+1)/2)*fvar(30)),-1-floor(26*(EnemyNear(floor(fvar(36))),vel Y)+(26*(26+1)/2)*fvar(30))]
Trigger3 = fvar(1) = [101,150] 
Trigger4 = fvar(3) = [-113-floor(19*(EnemyNear(floor(fvar(36))),vel Y)+(19*(19+1)/2)*fvar(30)),-1-floor(19*(EnemyNear(floor(fvar(36))),vel Y)+(19*(19+1)/2)*fvar(30))]
Trigger4 = fvar(1) = [-5,100] 


;弱顕斎
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 1200
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(36))),statetype = A
triggerall = enemynear(floor(fvar(36))),stateno = [5000,5120]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
TriggerAll = fvar(3) = [-99-floor(12*(EnemyNear(floor(fvar(36))),vel Y)+(12*(12+1)/2)*fvar(30)),1-floor(12*(EnemyNear(floor(fvar(36))),vel Y)+(12*(12+1)/2)*fvar(30))]
TriggerAll = fvar(1) = [-5,50]
triggerAll = NumHelper(1000) 
TriggerAll = enemynear(floor(fvar(36))),movetype = H
TriggerAll = enemynear(floor(fvar(36))),statetype != L
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;強解除
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 1001
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = numhelper(1000) = 0
triggerall = statetype != A
TriggerAll = enemynear(floor(fvar(36))),movetype = H
TriggerAll = enemynear(floor(fvar(36))),statetype != L
triggerall = enemynear(floor(fvar(36))),stateno = [5000,5120]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
Triggerall = fvar(3) = [-113-floor(20*(EnemyNear(floor(fvar(36))),vel Y)+(20*(20+1)/2)*fvar(30)),-1-floor(20*(EnemyNear(floor(fvar(36))),vel Y)+(20*(20+1)/2)*fvar(30))]
Triggerall = fvar(1) = [-5+floor(20*(EnemyNear(floor(fvar(36))),vel X)),100+floor(20*(EnemyNear(floor(fvar(36))),vel X))]
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;空中強キック
[State -3, Jump Strong Kick]
type = ChangeState
value = 640
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
triggerall = stateno != 106
TriggerAll = StateType = A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType = H
;TriggerAll = !1
TriggerAll = Ctrl
TriggerAll = vel y >= 0
TriggerAll = fvar(1) = [-65,85]
TriggerAll = fvar(3) >= 0
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;しゃがみ弱K
[State -3,]
Type = ChangeState
value = 430
triggerall = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType = H
triggerall = EnemyNear(floor(fvar(36))),Gethitvar(hittime) > 4
TriggerAll = enemynear(floor(fvar(36))),StateNo = [120,155]
TriggerAll = enemynear(floor(fvar(36))),StateType != A 
;TriggerAll = !1
TriggerAll = fvar(1) = [-1,56]
triggerall = fvar(3) >=0
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;近距離立ち強キック
[State -3, Standing Strong Kick]
type = ChangeState
value = 245
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType = H
;TriggerAll = !1
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 
triggerall = enemynear(floor(fvar(36))),stateno = [5000,5120]
TriggerAll = fvar(1) = [-5,18]
TriggerAll = fvar(3) = [-56-floor(10*(EnemyNear(floor(fvar(36))),vel Y)+(10*(10+1)/2)*fvar(30)),0-floor(10*(EnemyNear(floor(fvar(36))),vel Y)+(10*(10+1)/2)*fvar(30))]
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;遠距離立ち強キック1
[State -3, Standing Strong Kick]
type = ChangeState
value = 240
TriggerAll = var(56) > 0
TriggerAll = fvar(1) >= 19 
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType = H
;TriggerAll = !1
triggerall = enemynear(floor(fvar(36))),stateno = [5000,5120]
triggerall = enemynear(floor(fvar(36))),StateType = A || enemynear(floor(fvar(36))),StateType != A &&  NumHelper(1000) = 0
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = fvar(1) = [19+floor(7*(EnemyNear(floor(fvar(36))),vel X)),60+floor(7*(EnemyNear(floor(fvar(36))),vel X))]
TriggerAll = fvar(3) = [-92-floor(7*(EnemyNear(floor(fvar(36))),vel Y)+(7*(7+1)/2)*fvar(30)),0-floor(7*(EnemyNear(floor(fvar(36))),vel Y)+(7*(7+1)/2)*fvar(30))]
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;前小ジャンプ
[State -3,]
Type = ChangeState
value = 45
triggerall = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),StateType = C
;TriggerAll = enemynear(floor(fvar(36))),MoveType = H
TriggerAll = enemynear(floor(fvar(36))),StateNo = [120,155]
TriggerAll = enemynear(floor(fvar(36))),StateType != A 
;TriggerAll = !1
triggerAll = NumHelper(1000)
triggerAll = Helper(1000),Stateno = 1010
TriggerAll = fvar(1) = [100,160]
triggerall = fvar(3) >=0
Trigger1 = Random <=var(56)*8


;ダッシュ
[State -3,]
type = ChangeState
value = 100
Ctrl = 0
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = statetype != A
;TriggerAll = !1
TriggerAll = Ctrl || stateno = 19 || stateno = 20  || stateno = 21 || (stateno = 52 && Time >= 3)
TriggerAll = Stateno != [100,101] 
TriggerAll = enemynear(floor(fvar(36))),StateNo = [120,155]
triggerall = ((var(56) <=5)&& random <= var(56)*25) || ((var(56) = [6,9]) && random <= var(56)*45) || var(56) >= 10
;TriggerAll = enemynear(floor(fvar(36))),movetype = H
TriggerAll = enemynear(floor(fvar(36))),statetype != L
Trigger1 = fvar(1) = [0,160]
Trigger2 = fvar(1) >= 18
Trigger2 = NumHelper(1000)
Trigger2 = Helper(1000),Stateno = 1010


;ダッシュ
[State -3,]
type = ChangeState
value = 100
Ctrl = 0
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = statetype != A
;TriggerAll = !1
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || (stateno = 52 && Time >= 3)
TriggerAll = Stateno != [100,101] 
TriggerAll = enemynear(floor(fvar(36))),StateNo != [120,155]
TriggerAll = enemynear(floor(fvar(36))),movetype = H
TriggerAll = enemynear(floor(fvar(36))),statetype != L
Triggerall = fvar(1) >= 18 && enemynear(floor(fvar(36))),Statetype != A ||  fvar(1) >= 46 && enemynear(floor(fvar(36))),Statetype = A 
Trigger1 = var(56) = [1,5]
Trigger1 = Random<=var(56)*25
Trigger2 = var(56) = [6,10]
Trigger2 = Random<=var(56)*60
trigger3 = var(56) >= 10


;================================================================================================================================================================================================================================================================
;ミズチ繋ぎ
;================================================================================================================================================================================================================================================================
;近距離立ち強キック
[State -1, Standing Strong Kick]
type = ChangeState
value = 245
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(36))),statetype != L
TriggerAll = fvar(1) = [-5,18]
TriggerAll = fvar(3) = [-56-floor(10*(EnemyNear(floor(fvar(36))),vel Y)+(10*(10+1)/2)*fvar(30)),0-floor(10*(EnemyNear(floor(fvar(36))),vel Y)+(10*(10+1)/2)*fvar(30))]
triggerall = ((var(56) <=5)&& random <= var(56)*25) || ((var(56) = [6,9]) && random <= var(56)*45) || var(56) >= 10
Triggerall = movecontact
trigger1 = stateno = 200 && animelem >= 3
trigger2 = stateno = 205 && animelem >= 3


;遠距離立ち強キック1
[State -1, Standing Strong Kick]
type = ChangeState
value = 240
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(36))),statetype != L
TriggerAll = fvar(1) > 18 
TriggerAll = fvar(1) = [19+floor(7*(EnemyNear(floor(fvar(36))),vel X)),60+floor(7*(EnemyNear(floor(fvar(36))),vel X))]
TriggerAll = fvar(3) = [-92-floor(7*(EnemyNear(floor(fvar(36))),vel Y)+(7*(7+1)/2)*fvar(30)),0-floor(7*(EnemyNear(floor(fvar(36))),vel Y)+(7*(7+1)/2)*fvar(30))]
triggerall = ((var(56) <=5)&& random <= var(56)*25) || ((var(56) = [6,9]) && random <= var(56)*45) || var(56) >= 10
Triggerall = movecontact
trigger1 = stateno = 200 && animelem >= 3
trigger2 = stateno = 205 && animelem >= 3


;弱顕斎
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 1200
triggerall = var(56) > 0
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = enemynear(floor(fvar(36))),statetype != L
TriggerAll = fvar(3) = [-99,0]
TriggerAll = fvar(1) = [0,35]
triggerall = ((var(56) <=5)&& random <= var(56)*25) || ((var(56) = [6,9]) && random <= var(56)*45) || var(56) >= 10
Triggerall = movehit
trigger1 = stateno = 200
trigger2 = stateno = 205
trigger3 = stateno = 240
trigger4 = var(56) = [1,11]
trigger4 = stateno = 245 
trigger4 = EnemyNear(floor(fvar(36))),GetHitVar(HitCount) > 16
trigger5 = stateno = 400
trigger6 = stateno = 410
trigger7 = stateno = 430
trigger8 = stateno = 440


;強解除
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 1001
triggerall = var(56) > 0
triggerall = numhelper(1000) = 0
triggerall = statetype != A
triggerall = enemynear(floor(fvar(36))),statetype != L
triggerall = ((var(56) <=5)&& random <= var(56)*25) || ((var(56) = [6,9]) && random <= var(56)*45) || var(56) >= 10
Triggerall = enemynear(floor(fvar(36))),statetype != A && movehit ||  enemynear(floor(fvar(36))),statetype = A && movecontact 
trigger1 = stateno = 240
trigger2 = stateno = 245
trigger3 = var(56) = [1,11]
trigger2 = EnemyNear(floor(fvar(36))),GetHitVar(HitCount) < 15
trigger3 = stateno = 245
trigger3 = var(56) >= 12
trigger4 = stateno = 410
trigger5 = stateno = 440
Trigger5 = fvar(1) = [36,160]


;大神
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = var(56) > 0
triggerall = power >= 1000
triggerall = statetype != A
triggerall = numhelper(2)||!(random%20)
triggerall = helper(2),anim=9000||!(random%20)
triggerall = enemynear(floor(fvar(36))),statetype != A
triggerall = enemynear(floor(fvar(36))),statetype != L
triggerall = ((var(56) <=5)&& random <= var(56)*25) || ((var(56) = [6,9]) && random <= var(56)*45) || var(56) >= 10
Triggerall = movehit
Triggerall = fvar(3) >= 0 
Triggerall = fvar(1) = [-5,40]
trigger1 = stateno = 430


;================================================================================================================================================================================================================================================================
;ミズチ隙突き
;================================================================================================================================================================================================================================================================
;近距離立ち強キック
[State -1, Standing Strong Kick]
type = ChangeState
value = 245
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
;TriggerAll = !1
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -10
TriggerAll = !EnemyNear(floor(fvar(36))),Ctrl
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = fvar(1) = [-5,18]
TriggerAll = fvar(3) = [-56-floor(10*(EnemyNear(floor(fvar(36))),vel Y)+(10*(10+1)/2)*fvar(30)),0-floor(10*(EnemyNear(floor(fvar(36))),vel Y)+(10*(10+1)/2)*fvar(30))]
Trigger1 = var(56) = [5,9]
Trigger1 = Random <= var(56)*35
Trigger2 = var(56) >= 10


;しゃがみ弱キック
[State -3, Crouching Light Kick]
type = ChangeState
value = 430
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -4
TriggerAll = !EnemyNear(floor(fvar(36))),Ctrl
;TriggerAll = !1
TriggerAll = enemynear(floor(fvar(36))),statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = fvar(1) = [-1,56]
TriggerAll = fvar(3) >= 0
Trigger1 = var(56) = [5,9]
Trigger1 = Random <= var(56)*35
Trigger2 = var(56) >= 10


;近距離立ち弱パンチ
[State -3, Stand Light Punch]
type = ChangeState
value = 205
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -5
TriggerAll = !EnemyNear(floor(fvar(36))),Ctrl
;TriggerAll = !1
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = fvar(1) = [-1,18]
TriggerAll = fvar(3) = [-69-floor(5*(EnemyNear(floor(fvar(36))),vel Y)+(5*(5+1)/2)*fvar(30)),0-floor(5*(EnemyNear(floor(fvar(36))),vel Y)+(5*(5+1)/2)*fvar(30))]
Trigger1 = var(56) = [5,9]
Trigger1 = Random <= var(56)*35
Trigger2 = var(56) >= 10


;遠距離立ち弱パンチ
[State -3, Stand Light Punch]
type = ChangeState
value = 200
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
;TriggerAll = !1
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -7
TriggerAll = !EnemyNear(floor(fvar(36))),Ctrl
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = fvar(1) = [19,30]
TriggerAll = fvar(3) = [-73-floor(7*(EnemyNear(floor(fvar(36))),vel Y)+(7*(7+1)/2)*fvar(30)),0-floor(7*(EnemyNear(floor(fvar(36))),vel Y)+(7*(7+1)/2)*fvar(30))]
Trigger1 = var(56) <= 9
Trigger1 = Random <= var(56)*30
Trigger2 = var(56) >= 10


;遠距離立ち強キック1
[State -3, Standing Strong Kick]
type = ChangeState
value = 240
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
;TriggerAll = !1
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -7
TriggerAll = !EnemyNear(floor(fvar(36))),Ctrl
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = fvar(1) = [19,60]
TriggerAll = fvar(3) = [-92-floor(7*(EnemyNear(floor(fvar(36))),vel Y)+(7*(7+1)/2)*fvar(30)),0-floor(7*(EnemyNear(floor(fvar(36))),vel Y)+(7*(7+1)/2)*fvar(30))]
Trigger1 = var(56) <= 9
Trigger1 = Random <= var(56)*16
Trigger2 = var(56) >= 10


;ダッシュ
[State -3, Standing Strong Kick]
type = ChangeState
value = 100
ctrl = 0 
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
;TriggerAll = !1
TriggerAll = Stateno != [100,101]
TriggerAll = EnemyNear(floor(fvar(36))),AnimTime <= -20
TriggerAll = !EnemyNear(floor(fvar(36))),Ctrl
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = fvar(1) >= 18 
Trigger1 = var(56) <= 9
Trigger1 = Random <= var(56)*8
Trigger2 = var(56) >= 10


;================================================================================================================================================================================================================================================================
;ミズチぶっ放し
;================================================================================================================================================================================================================================================================
;大神
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = var(56) > 0
triggerall = power >= 1000
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = numhelper(2)||!(random%20)
triggerall = helper(2),anim=9000||!(random%20)
triggerall = enemynear(floor(fvar(36))),statetype != A
TriggerAll = fvar(3) >= 0
TriggerAll = fvar(1) = [-5,35]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
TriggerAll = enemynear(floor(fvar(36))),MoveType=A || EnemyNear(floor(fvar(36))),Ctrl
Trigger1 = var(56) <= 5
Trigger1 = Random <= var(56)*25
Trigger2 = var(56) = [6,9]
Trigger2 = Random <= (10-var(56))*35


;大神
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = var(56) > 0
triggerall = power >= 1000
TriggerAll = RoundState = 2
triggerall = statetype != A
triggerall = numhelper(2)||!(random%20)
triggerall = helper(2),anim=9000||!(random%20)
triggerall = enemynear(floor(fvar(36))),statetype != A
TriggerAll = fvar(3) >= 0
TriggerAll = fvar(1) = [-5,80]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
TriggerAll = enemynear(floor(fvar(36))),MoveType=A || EnemyNear(floor(fvar(36))),Ctrl
Trigger1 = var(56) <= 5
Trigger1 = Random <= var(56)*25
Trigger2 = var(56) = [6,9]
Trigger2 = Random <= (10-var(56))*35


;================================================================================================================================================================================================================================================================
;ミズチ移動
;================================================================================================================================================================================================================================================================
;ダッシュ
[State -3,ダッシュ]
Type = ChangeState
Value = 100
ctrl = 0 
triggerall = var(56) > 0
triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = enemynear(floor(fvar(36))),StateType != L
Triggerall = enemynear(floor(fvar(36))),MoveType != H
Triggerall = enemynear(floor(fvar(36))),MoveType != A
;TriggerAll = !1
Triggerall = StateNo != [100,101]
triggerall = ctrl ||stateno = 19|| stateno = 20|| stateno = 21 
triggerall = Random <= var(56)*30
Trigger1 = fvar(1) >= 200


;前歩き
[State -3,]
Type = ChangeState
Value = 21
triggerall = var(56) > 0
triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = enemynear(floor(fvar(36))),StateType != L
Triggerall = enemynear(floor(fvar(36))),MoveType != H
Triggerall = enemynear(floor(fvar(36))),MoveType != A
;TriggerAll = !1
Triggerall = StateNo != [100,101]
triggerall = ctrl ||stateno = 19|| stateno = 20
triggerall = Random <= var(56)*45
Trigger1 = fvar(1) >= 90


;後ろ歩き
[State -3,]
Type = ChangeState
Value = 19
triggerall = var(56) > 0
triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = enemynear(floor(fvar(36))),StateType != L
Triggerall = enemynear(floor(fvar(36))),MoveType != H
Triggerall = enemynear(floor(fvar(36))),MoveType != A
;TriggerAll = !1
Triggerall = StateNo != [100,101]
triggerall = ctrl || stateno = 20|| stateno = 21 
triggerall = Random <= var(56)*25
Trigger1 = fvar(1) <= 30



;================================================================================================================================================================================================================================================================
;ミズチ対空
;================================================================================================================================================================================================================================================================
;強解除
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 1001
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
;TriggerAll = !1
TriggerAll = statetype != A
TriggerAll = enemynear(floor(fvar(36))),StateType = A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
triggerall = numhelper(1000) = 0
TriggerAll = fvar(1) = [15+floor(19*(EnemyNear(floor(fvar(36))),vel X)),110+floor(19*(EnemyNear(floor(fvar(36))),vel X))]
TriggerAll = fvar(3) = [-90-floor(19*(EnemyNear(floor(fvar(36))),vel Y)+(19*(19+1)/2)*fvar(30)),-15-floor(19*(EnemyNear(floor(fvar(36))),vel Y)+(19*(19+1)/2)*fvar(30))]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
Trigger1 = var(56) = [1,5]
Trigger1 = Random <= var(56)*10
Trigger2 = var(56) = [6,9]
Trigger2 = Random <= var(56)*25
Trigger3 = var(56) >= 10


;強顕斎
[State -3,]
type = ChangeState
value = 1201
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
;TriggerAll = !1
TriggerAll = statetype != A
TriggerAll = enemynear(floor(fvar(36))),StateType = A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
TriggerAll = fvar(1) = [-5+floor(17*(EnemyNear(floor(fvar(36))),vel X)),45+floor(17*(EnemyNear(floor(fvar(36))),vel X))]
TriggerAll = fvar(3) = [-126-floor(17*(EnemyNear(floor(fvar(36))),vel Y)+(17*(17+1)/2)*fvar(30)),-40-floor(17*(EnemyNear(floor(fvar(36))),vel Y)+(17*(17+1)/2)*fvar(30))]
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
Trigger1 = var(56) = [1,5]
Trigger1 = Random <= var(56)*10
Trigger2 = var(56) = [6,9]
Trigger2 = Random <= var(56)*25
Trigger3 = var(56) >= 10


;================================================================================================================================================================================================================================================================
;ミズチ立ち回り
;================================================================================================================================================================================================================================================================
;門客人
[State -3,]
type = ChangeState
value = 800
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
triggerall = statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = enemynear(floor(fvar(36))),StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
TriggerAll = fvar(1) = [-5,18]
Trigger1 = Random <= var(56)*15
Trigger2 = (enemynear(floor(fvar(36))),StateNo=[120,159])
Trigger2 = Random <= var(56)*45
;Trigger3 = var(56) >= 10


;弱解除
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 1000
triggerall = var(56) > 0
triggerall = numhelper(1000) = 0
triggerall = statetype != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
;TriggerAll = !1
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
Triggerall = fvar(1) = [190+floor(20*(EnemyNear(floor(fvar(36))),vel X)),360+floor(20*(EnemyNear(floor(fvar(36))),vel X))]
Trigger1 = var(56) = [1,5]
Trigger1 = Random <= var(56)*12
Trigger2 = var(56) = [6,9]
Trigger2 = Random <= var(56)*20
Trigger3 = var(56) >= 10
Trigger3 = Random <= var(56)*40


;強解除
[State -3, Strong Kung Fu Palm]
type = ChangeState
value = 1001
triggerall = var(56) > 0
triggerall = numhelper(1000) = 0
;TriggerAll = !1
triggerall = statetype != A
Triggerall = Random<=var(56)*100
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0) || (Stateno = [200,205]) || (Stateno = [235,245]) || (Stateno = [400,440])
Triggerall = fvar(1) = [120+floor(20*(EnemyNear(floor(fvar(36))),vel X)),360+floor(20*(EnemyNear(floor(fvar(36))),vel X))]
Trigger1 = var(56) = [1,5]
Trigger1 = Random <= var(56)*12
Trigger2 = var(56) = [6,9]
Trigger2 = Random <= var(56)*20
Trigger3 = var(56) >= 10
Trigger3 = Random <= var(56)*40



;================================================================================================================================================================================================================================================================
;ミズチ牽制
;================================================================================================================================================================================================================================================================
;しゃがみ弱キック
[State -3, Crouching Light Kick]
type = ChangeState
value = 430
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
;TriggerAll = !1
TriggerAll = enemynear(floor(fvar(36))),statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = fvar(1) = [-1+floor(4*(EnemyNear(floor(fvar(36))),vel X)),56+floor(4*(EnemyNear(floor(fvar(36))),vel X))]
Trigger1 = var(56) <= 9
Trigger1 = Random <= var(56)*55
Trigger2 = var(56) >= 10
Trigger2 = Random <= 300


;近距離立ち弱パンチ
[State -3, Stand Light Punch]
type = ChangeState
value = 205
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
;TriggerAll = !1
TriggerAll = enemynear(floor(fvar(36))),statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = fvar(1) = [-1+floor(5*(EnemyNear(floor(fvar(36))),vel X)),18+floor(5*(EnemyNear(floor(fvar(36))),vel X))]
Trigger1 = var(56) <= 9
Trigger1 = Random <= var(56)*25
Trigger2 = var(56) >= 10
Trigger2 = Random <= 200


;遠距離立ち弱パンチ
[State -3, Stand Light Punch]
type = ChangeState
value = 200
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
;TriggerAll = !1
TriggerAll = enemynear(floor(fvar(36))),statetype != A
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = fvar(1) = [19+floor(7*(EnemyNear(floor(fvar(36))),vel X)),30+floor(7*(EnemyNear(floor(fvar(36))),vel X))]
Trigger1 = var(56) <= 9
Trigger1 = Random <= var(56)*32
Trigger2 = var(56) >= 10
Trigger2 = Random <= 210


;遠距離立ち強キック1
[State -1, Standing Strong Kick]
type = ChangeState
value = 240
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
TriggerAll = StateType != A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
;TriggerAll = !1
TriggerAll = Ctrl || stateno = 19 || stateno = 20 || stateno = 21 || (stateno = 52 && Time >= 3) || stateno = 100 || stateno = 101 || (stateno = 700 && animelem = 3,>=0)
TriggerAll = fvar(1) = [19+floor(7*(EnemyNear(floor(fvar(36))),vel X)),60+floor(7*(EnemyNear(floor(fvar(36))),vel X))]
TriggerAll = fvar(3) = [-92-floor(7*(EnemyNear(floor(fvar(36))),vel Y)+(7*(7+1)/2)*fvar(30)),0-floor(7*(EnemyNear(floor(fvar(36))),vel Y)+(7*(7+1)/2)*fvar(30))]
Trigger1 = var(56) <= 9
Trigger1 = Random <= var(56)*35
Trigger2 = var(56) >= 10
Trigger2 = Random <= 250


;================================================================================================================================================================================================================================================================
;ミズチ空中立ち回り
;================================================================================================================================================================================================================================================================
;空中強キック
[State -3, Jump Strong Kick]
type = ChangeState
value = 640
TriggerAll = var(56) > 0
TriggerAll = RoundState = 2
triggerall = stateno != 106
TriggerAll = StateType = A
TriggerAll = enemynear(floor(fvar(36))),StateType != L
TriggerAll = enemynear(floor(fvar(36))),MoveType != H
;TriggerAll = !1
TriggerAll = Ctrl
TriggerAll = fvar(1) = [-35+floor(5*(EnemyNear(floor(fvar(36))),vel X)),63+floor(5*(EnemyNear(floor(fvar(36))),vel X))]
TriggerAll = fvar(3) = [-48-floor(5*(EnemyNear(floor(fvar(36))),vel Y)+(5*(5+1)/2)*fvar(30)),38-floor(5*(EnemyNear(floor(fvar(36))),vel Y)+(5*(5+1)/2)*fvar(30))]
Trigger1 = var(56) <= 9
Trigger1 = Random <= var(56)*50
Trigger2 = var(56) >= 10
Trigger2 = Random <= 700

;/-----------------------------------------------------------------------
;拙作AI
;/-----------------------------------------------------------------------

;===========================================================================
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;強御大
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1501
triggerall = var(30)&&roundstate=2&&!var(56); = "強御大"
triggerall = statetype = A
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) < 30
trigger1 = enemy,statetype != l
;---------------------------------------------------------------------------
;弱御大
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1500
triggerall = var(30)&&roundstate=2&&!var(56); = "弱御大"
triggerall = statetype = A
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) < 30
trigger1 = enemy,statetype != l
;---------------------------------------------------------------------------
;強糺
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1301
triggerall = var(30)&&roundstate=2&&!var(56); = "強糺"
triggerall = power >= 500
triggerall = statetype != A
trigger1 = ctrl&&movetype!=h&&random<20
trigger1 = fvar(1) < 30
trigger1 = enemy,statetype != l
trigger1 = enemy,movetype = a
;---------------------------------------------------------------------------
;弱糺
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1300
triggerall = var(30)&&roundstate=2&&!var(56); = "弱糺"
triggerall = statetype != A
triggerall = power >= 500
trigger1 = ctrl&&movetype!=h&&random<20
trigger1 = fvar(1) < 30
trigger1 = enemy,statetype != l
trigger1 = enemy,movetype = a
;---------------------------------------------------------------------------
;火闌降
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1400
triggerall = var(30)&&roundstate=2&&!var(56); = "火闌降0")||(var(30)&&roundstate=2&&!var(56); = "火闌降1")||(var(30)&&roundstate=2&&!var(56); = "火闌降2")||(var(30)&&roundstate=2&&!var(56); = "火闌降3")
triggerall = statetype != A
trigger1 = ctrl&&movetype!=h&&random<60
trigger1 = fvar(1) = [0,300]
;---------------------------------------------------------------------------
;強顕斎
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1201
triggerall = var(30)&&roundstate=2&&!var(56); = "強顕斎"
triggerall = statetype != A
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = enemy,statetype = a
trigger1 = enemy,pos y < pos y
trigger1 = fvar(1) < 130
;---------------------------------------------------------------------------
;弱顕斎
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1200
triggerall = var(30)&&roundstate=2&&!var(56); = "弱顕斎"
triggerall = statetype != A
trigger1 = ctrl&&movetype!=h&&random<140
trigger1 = enemy,statetype != L
trigger1 = fvar(1) < 130
;---------------------------------------------------------------------------
;誓約
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1100
triggerall = var(30)&&roundstate=2&&!var(56); = "誓約"
triggerall = power >= 500
triggerall = statetype != A
trigger1 = ctrl&&movetype!=h&&random<5

;---------------------------------------------------------------------------
;強解除
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1001
triggerall = var(30)&&roundstate=2&&!var(56); = "強解除"
triggerall = numhelper(1001) = 0
triggerall = statetype != A
triggerall = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) > 80
trigger1 = enemy,movetype != h
trigger2 = fvar(1) > 20
trigger2 = enemy,movetype = h

;---------------------------------------------------------------------------
;弱解除
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1000
triggerall = var(30)&&roundstate=2&&!var(56); = "弱解除"
triggerall = numhelper(1000) = 0
triggerall = statetype != A
triggerall = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) > 80
trigger1 = enemy,movetype != h
trigger2 = fvar(1) > 20
trigger2 = enemy,movetype = h

;===========================================================================
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;門客人
[State -1, Kung Fu Throw]
type = ChangeState
value = 800
triggerall = var(30)&&roundstate=2&&!var(56); = "投げ"
triggerall = statetype != A
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) < 30
;---------------------------------------------------------------------------
;ふっ飛ばし攻撃
[State -1, Stand Light Punch]
type = ChangeState
value = 290
triggerall = var(30)&&roundstate=2&&!var(56); = "ふっ飛ばし"
triggerall = statetype = S
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = enemy,statetype != l
trigger1 = fvar(1) < 40
;---------------------------------------------------------------------------
;空中ふっ飛ばし攻撃
[State -1, Stand Light Punch]
type = ChangeState
value = 690
triggerall = var(30)&&roundstate=2&&!var(56); = "ふっ飛ばし"
trigger1 = statetype = A
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = enemy,statetype != l
trigger1 = fvar(1) < 30

;---------------------------------------------------------------------------
;ダウン回避
[State -1, Taunt]
type = null;ChangeState
value = 702
triggerall = var(30)&&roundstate=2&&!var(56); = "緊急回避前"
trigger1 = stateno = 5050
trigger1 = pos y >=-40

;---------------------------------------------------------------------------
;ダッシュ
[State -1, Run Fwd]
type = ChangeState
value = 100
trigger1 = var(30)&&roundstate=2&&!var(56); = "FF"
trigger1 = statetype = S
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = stateno!=[100,101]
trigger1 = EnemyNear,StateType!=L
trigger1 = fvar(1)>=50
trigger1 = !random%3

;---------------------------------------------------------------------------
;後退ダッシュ
[State -1, Run Back]
type = ChangeState
value = 105
triggerall = var(30)&&roundstate=2&&!var(56); = "BB"
triggerall = statetype = S
triggerall = ctrl&&movetype!=h&&random<100
trigger1 = stateno!=[100,101]
trigger1 = fvar(1)<-20
trigger1 = !random%3

[State ]
Type=ChangeState
Value=20
triggerall = var(30)
triggerall = Alive
triggerall = RoundState=2
triggerall = StateType=S
triggerall = EnemyNear,StateType!=L
trigger1 = ctrl&&movetype!=h||stateno=[100,101]
trigger1 = fvar(1)<50
trigger1 = !random%3

;---------------------------------------------------------------------------
;===========================================================================
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;遠距離立ち弱パンチ
[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = var(30)&&roundstate=2&&!var(56); = "x"
triggerall = P2dist X >50
triggerall = statetype = S
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = EnemyNear,StateType = S || EnemyNear,StateType = C
trigger1 = fvar(1) < 60

;---------------------------------------------------------------------------
;近距離立ち弱パンチ
[State -1, Stand Light Punch]
type = ChangeState
value = 205
triggerall = var(30)&&roundstate=2&&!var(56); = "x"
triggerall = P2dist X <=50
triggerall = statetype = S
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = EnemyNear,StateType = S || EnemyNear,StateType = C
trigger1 = fvar(1) < 30
;---------------------------------------------------------------------------
;遠距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = var(30)&&roundstate=2&&!var(56); = "y"
triggerall = P2dist X >50
triggerall = statetype != A
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = EnemyNear,StateType = S || EnemyNear,StateType = C
trigger1 = fvar(1) < 50
;---------------------------------------------------------------------------
;近距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = var(30)&&roundstate=2&&!var(56); = "y"
triggerall = P2dist X <=50
triggerall = statetype != A
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = EnemyNear,StateType = S || EnemyNear,StateType = C
trigger1 = fvar(1) < 50
;---------------------------------------------------------------------------
;遠距離立ち弱キック
[State -1, Stand Light Kick]
type = ChangeState
value = 230
triggerall = var(30)&&roundstate=2&&!var(56); = "a"
triggerall = P2dist X >50
triggerall = statetype = S
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = EnemyNear,StateType = S || EnemyNear,StateType = C
trigger1 = fvar(1) < 30
;---------------------------------------------------------------------------
;近距離立ち弱キック
[State -1, Stand Light Kick]
type = ChangeState
value = 235
triggerall = var(30)&&roundstate=2&&!var(56); = "a"
triggerall = P2dist X <=50
triggerall = statetype = S
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = EnemyNear,StateType = S || EnemyNear,StateType = C
trigger1 = fvar(1) < 30
;---------------------------------------------------------------------------
;遠距離立ち強キック1
[State -1, Standing Strong Kick]
type = ChangeState
value = 240
triggerall = var(30)&&roundstate=2&&!var(56); = "b"
triggerall = P2dist X >50
triggerall = statetype = S
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = EnemyNear,StateType != L
trigger1 = fvar(1) = [0,100]
trigger1 = EnemyNear,Pos Y <=0
;---------------------------------------------------------------------------
;近距離立ち強キック
[State -1, Standing Strong Kick]
type = ChangeState
value = 245
triggerall = var(30)&&roundstate=2&&!var(56); = "b"
triggerall = P2dist X <=50
triggerall = statetype = S
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = EnemyNear,StateType != L
trigger1 = fvar(1) = [0,100]
trigger1 = EnemyNear,Pos Y <=0

;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -1, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = var(30)&&roundstate=2&&!var(56); = "x"
triggerall = statetype = C
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = enemy,statetype != A
trigger1 = fvar(1) < 30

;---------------------------------------------------------------------------
;しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = var(30)&&roundstate=2&&!var(56); = "y"
triggerall = statetype = C
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) < 60
trigger1 = enemy,statetype != L

;---------------------------------------------------------------------------
;しゃがみ弱キック
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = var(30)&&roundstate=2&&!var(56); = "a"
triggerall = statetype = C
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) < 50
trigger1 = enemy,statetype != A

;---------------------------------------------------------------------------
;しゃがみ強キック
[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = var(30)&&roundstate=2&&!var(56); = "b"
triggerall = statetype = C
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) < 70
trigger1 = enemy,statetype != A

;---------------------------------------------------------------------------
;空中弱パンチ
[State -1, Jump Light Punch]
type = ChangeState
value = 600
triggerall = var(30)&&roundstate=2&&!var(56); = "x"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) < 40
trigger1 = enemy,statetype != L
;---------------------------------------------------------------------------
;空中強パンチ
[State -1, Jump Strong Punch]
type = ChangeState
value = 610
triggerall = var(30)&&roundstate=2&&!var(56); = "y"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) < 40
trigger1 = enemy,statetype != L

;---------------------------------------------------------------------------
;空中弱キック
[State -1, Jump Light Kick]
type = ChangeState
value = 630
triggerall = var(30)&&roundstate=2&&!var(56); = "a"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) < 70
trigger1 = enemy,statetype != L
;---------------------------------------------------------------------------
;空中強キック
[State -1, Jump Strong Kick]
type = ChangeState
value = 640
triggerall = var(30)&&roundstate=2&&!var(56)
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl&&movetype!=h&&random<100
trigger1 = fvar(1) < 70
trigger1 = enemy,statetype != L
;===========================================================================
;基本コマンド
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;混
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2100
triggerall = !var(30)&&!var(56)
triggerall = command = "混"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 200
trigger3 = stateno = 205
trigger4 = stateno = 235
trigger5 = stateno = 240
trigger6 = stateno = 245
trigger7 = stateno = 400
trigger8 = stateno = 410
trigger9 = stateno = 430
trigger10= stateno = 440
trigger11= stateno = 700 && animelem = 3,>=0

;---------------------------------------------------------------------------
;大神
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 2000
triggerall = !var(30)&&!var(56)
triggerall = command = "大神"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 200
trigger3 = stateno = 205
trigger4 = stateno = 235
trigger5 = stateno = 240
trigger6 = stateno = 245
trigger7 = stateno = 400
trigger8 = stateno = 410
trigger9 = stateno = 430
trigger10= stateno = 440
trigger11= stateno = 700 && animelem = 3,>=0

;===========================================================================
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;強御大
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1501
triggerall = !var(30)&&!var(56)
triggerall = command = "強御大"
triggerall = statetype = A
trigger1 = ctrl
;---------------------------------------------------------------------------
;弱御大
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1500
triggerall = !var(30)&&!var(56)
triggerall = command = "弱御大"
triggerall = statetype = A
trigger1 = ctrl
;---------------------------------------------------------------------------
;強糺
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1301
triggerall = !var(30)&&!var(56)
triggerall = command = "強糺"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 200
trigger3 = stateno = 205
trigger4 = stateno = 235
trigger5 = stateno = 240
trigger6 = stateno = 245
trigger7 = stateno = 400
trigger8 = stateno = 410
trigger9 = stateno = 430
trigger10= stateno = 440
trigger11= stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;弱糺
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1300
triggerall = !var(30)&&!var(56)
triggerall = command = "弱糺"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 200
trigger3 = stateno = 205
trigger4 = stateno = 235
trigger5 = stateno = 240
trigger6 = stateno = 245
trigger7 = stateno = 400
trigger8 = stateno = 410
trigger9 = stateno = 430
trigger10= stateno = 440
trigger11= stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;火闌降
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1400
triggerall = !var(30)&&!var(56)
triggerall = (command = "火闌降0")||(command = "火闌降1")||(command = "火闌降2")||(command = "火闌降3")
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 200
trigger3 = stateno = 205
trigger4 = stateno = 235
trigger5 = stateno = 240
trigger6 = stateno = 245
trigger7 = stateno = 400
trigger8 = stateno = 410
trigger9 = stateno = 430
trigger10= stateno = 440
trigger11= stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;強顕斎
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1201
triggerall = !var(30)&&!var(56)
triggerall = command = "強顕斎"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 200
trigger3 = stateno = 205
trigger4 = stateno = 235
trigger5 = stateno = 240
trigger6 = stateno = 245
trigger7 = stateno = 400
trigger8 = stateno = 410
trigger9 = stateno = 430
trigger10= stateno = 440
trigger11= stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;弱顕斎
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1200
triggerall = !var(30)&&!var(56)
triggerall = command = "弱顕斎"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 200
trigger3 = stateno = 205
trigger4 = stateno = 235
trigger5 = stateno = 240
trigger6 = stateno = 245
trigger7 = stateno = 400
trigger8 = stateno = 410
trigger9 = stateno = 430
trigger10= stateno = 440
trigger11= stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;誓約
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1100
triggerall = !var(30)&&!var(56)
triggerall = command = "誓約"
triggerall = statetype != A
trigger1 = stateno = 240
trigger2 = stateno = 245
trigger3 = (stateno = 1000) && (animelem >= 8)
trigger4 = (stateno = 1001) && (animelem >= 8)

;---------------------------------------------------------------------------
;強解除
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1001
triggerall = !var(30)&&!var(56)
triggerall = command = "強解除"
triggerall = numhelper(1001) = 0
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 200
trigger3 = stateno = 205
trigger4 = stateno = 235
trigger5 = stateno = 240
trigger6 = stateno = 245
trigger7 = stateno = 400
trigger8 = stateno = 410
trigger9 = stateno = 430
trigger10= stateno = 440
trigger11= stateno = 700 && animelem = 3,>=0

;---------------------------------------------------------------------------
;弱解除
[State -1, Strong Kung Fu Palm]
type = ChangeState
value = 1000
triggerall = !var(30)&&!var(56)
triggerall = command = "弱解除"
triggerall = numhelper(1000) = 0
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 200
trigger3 = stateno = 205
trigger4 = stateno = 235
trigger5 = stateno = 240
trigger6 = stateno = 245
trigger7 = stateno = 400
trigger8 = stateno = 410
trigger9 = stateno = 430
trigger10= stateno = 440
trigger11= stateno = 700 && animelem = 3,>=0

;===========================================================================
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;門客人
[State -1, Kung Fu Throw]
type = ChangeState
value = 800
triggerall = !var(30)&&!var(56)
triggerall = command = "投げ"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;ふっ飛ばし攻撃
[State -1, Stand Light Punch]
type = ChangeState
value = 290
triggerall = !var(30)&&!var(56)
triggerall = command = "ふっ飛ばし"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;空中ふっ飛ばし攻撃
[State -1, Stand Light Punch]
type = ChangeState
value = 690
triggerall = !var(30)&&!var(56)
triggerall = command = "ふっ飛ばし"
trigger1 = statetype = A
trigger1 = ctrl
;---------------------------------------------------------------------------
;ガードキャンセルふっ飛ばし攻撃
[State -1, 290]
type = ChangeState
value = 291
triggerall = !var(30)&&!var(56)
triggerall = command = "ふっ飛ばし"
trigger1 = stateno = 150
trigger2 = stateno = 151



;===========================================================================
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;ガードキャンセルフロントステップ
[State -1, 700]
type = ChangeState
value = 100
triggerall = !var(30)&&!var(56)
triggerall = command = "FF"
trigger1 = stateno = 150
trigger2 = stateno = 151
;---------------------------------------------------------------------------
;タクティカルステップ
[State -1, Taunt]
type = ChangeState
value = 700
triggerall = !var(30)&&!var(56)
triggerall = command = "緊急回避前"
trigger1 = statetype != A
trigger1 = ctrl
;---------------------------------------------------------------------------
;ガードキャンセルタクティカルステップ
[State -1, 700]
type = ChangeState
value = 700
triggerall = !var(30)&&!var(56)
triggerall = command = "緊急回避前"
trigger1 = stateno = 150
trigger2 = stateno = 151
;---------------------------------------------------------------------------
;ACタクティカルステップ
[State -1, 700]
type = ChangeState
value = 700
triggerall = !var(30)&&!var(56)
triggerall = command = "緊急回避前"
trigger1 = stateno = [200,249]
;---------------------------------------------------------------------------
;ダウン回避
[State -1, Taunt]
type = ChangeState
value = 702
triggerall = !var(30)&&!var(56)
triggerall = command = "緊急回避前"
trigger1 = stateno = 5050
trigger1 = pos y >=-40
;---------------------------------------------------------------------------
;ダッシュ
[State -1, Run Fwd]
type = ChangeState
value = 100
triggerall = !var(30)&&!var(56)
trigger1 = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
;後退ダッシュ
[State -1, Run Back]
type = ChangeState
value = 105
triggerall = !var(30)&&!var(56)
trigger1 = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl


;---------------------------------------------------------------------------
;===========================================================================
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;遠距離立ち弱パンチ
[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = !var(30)&&!var(56)
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = P2dist X >50
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;近距離立ち弱パンチ
[State -1, Stand Light Punch]
type = ChangeState
value = 205
triggerall = !var(30)&&!var(56)
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = P2dist X <=50
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0

;---------------------------------------------------------------------------
;遠距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = !var(30)&&!var(56)
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = P2dist X >50
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;近距離立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = !var(30)&&!var(56)
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = P2dist X <=50
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0

;---------------------------------------------------------------------------
;遠距離立ち弱キック
[State -1, Stand Light Kick]
type = ChangeState
value = 230
triggerall = !var(30)&&!var(56)
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = P2dist X >50
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;近距離立ち弱キック
[State -1, Stand Light Kick]
type = ChangeState
value = 235
triggerall = !var(30)&&!var(56)
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = P2dist X <=50
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;遠距離立ち強キック1
[State -1, Standing Strong Kick]
type = ChangeState
value = 240
triggerall = !var(30)&&!var(56)
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = P2dist X >50
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0
;---------------------------------------------------------------------------
;近距離立ち強キック
[State -1, Standing Strong Kick]
type = ChangeState
value = 245
triggerall = !var(30)&&!var(56)
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = P2dist X <=50
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0

;---------------------------------------------------------------------------
;挑発
[State -1, Taunt]
type = ChangeState
value = 195
triggerall = !var(30)&&!var(56)
triggerall = command = "start"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0

;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -1, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = !var(30)&&!var(56)
triggerall = command = "x"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0

;---------------------------------------------------------------------------
;しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = !var(30)&&!var(56)
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0

;---------------------------------------------------------------------------
;しゃがみ弱キック
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = !var(30)&&!var(56)
triggerall = command = "a"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0


;---------------------------------------------------------------------------
;しゃがみ強キック
[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = !var(30)&&!var(56)
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = stateno = 700 && animelem = 3,>=0

;---------------------------------------------------------------------------
;空中弱パンチ
[State -1, Jump Light Punch]
type = ChangeState
value = 600
triggerall = !var(30)&&!var(56)
triggerall = command = "x"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl

;---------------------------------------------------------------------------
;空中強パンチ
[State -1, Jump Strong Punch]
type = ChangeState
value = 610
triggerall = !var(30)&&!var(56)
triggerall = command = "y"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl

;---------------------------------------------------------------------------
;空中弱キック
[State -1, Jump Light Kick]
type = ChangeState
value = 630
triggerall = !var(30)&&!var(56)
triggerall = command = "a"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl

;---------------------------------------------------------------------------
;空中強キック
[State -1, Jump Strong Kick]
type = ChangeState
value = 640
triggerall = !var(30)&&!var(56)
triggerall = command = "b"
trigger1 = statetype = A
trigger1 = stateno != 106
trigger1 = ctrl

[State ]
type=Changestate
trigger1=roundstate=0
trigger1=anim!=190
value=5900
ignorehitpause=1
[State ]
type=Changestate
trigger1=alive
trigger1=statetype = S
trigger1=roundstate > 3
trigger1=anim!=181&&anim!=183&&anim!=170
trigger1=win
value=180
ignorehitpause=1
[State ]
type = Changestate
trigger1=alive
trigger1=statetype=S
trigger1=roundstate>3
trigger1=anim!=181&&anim!=183&&anim!=170
trigger1=drawgame||Lose
value=170
ignorehitpause=1