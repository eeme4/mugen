[data]
;体力ゲージの初期値（弄らないでください.論外化します)
life=1000
;ゲージの初期値
power=9000
;攻撃力（できれば弄らないで.殺傷力に関わります）
attack=100
;防御力（できれば弄らないで.撃破条件に関わります）
defence=35
;コンボをくらっている時にあがる防御力
fall.defence_up=70
;倒れてから起上がるまでのフレーム数
liedown.time=11
;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
airjuggle=16777216
;hitdefで設定していない時の基本ヒットスパークナンバー
sparkno=-1
;設定してない時のガードナンバー
guard.sparkno=40
;KOした時に声にエコーをかけるか（１でＯＮ）
ko.echo=0
volume=255
intpersistindex=60
floatpersistindex=39
[size]
xscale=1;水平方向の縮尺（通常１）
yscale=1;垂直方向の縮尺（通常１）
ground.back=15;キャラの幅(後方,地上)
ground.front=16;キャラの幅(前方,地上)
air.back=12;キャラの幅(後方,空中)
air.front=12;キャラの幅(前方,空中)
height=125;キャラの高さ
attack.dist=320;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist=1;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale=0;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos=0,-118;頭の大体の座標
mid.pos=-4,-86;体の中心の大体の座標
shadowoffset=0;影の垂直方向のオフセット
draw.offset=0,0;使用しない
[velocity]
walk.fwd=3.4;前進の速度
walk.back=-3.4;後退の速度
run.fwd=6.2130434,0;前ダッシュの速度（ホップする時はyを-にする）
run.back=-6.5,-1.8;後ダッシュの速度（ホップする時はyを-にする）
jump.neu=0,-9.8;垂直ジャンプの速度
jump.back=-4.05,2;後ジャンプの速度
jump.fwd=4.0,2;前ジャンプの速度
runjump.back=-2.55,-8.1;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd=4,-8.1;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu=0,-8.1;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back=-2.55;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd=2.5;２段ジャンプ以降の前ジャンプの速度
[movement]
airjump.num=0;空中でジャンプする回数
airjump.height=35;空中でジャンプする最低限の高さ
yaccel=.57;重力
stand.friction=.85;立ち状態の摩擦係数
crouch.friction=.82;屈み状態の摩擦係数
;---------------------------------------------------------------------------
; ステイトの解説
; [Statedef STATENO]
; type = ?      S/C/A/L  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｌ：ダウン
; movetype = ?  I/A/H    Ｉ：通常状態/Ａ：攻撃状態/Ｈ：ダメージをくらってる状態
; physics = ?   S/C/A/N  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｎ：無し
; juggle = ?             その攻撃に使うジャグル数
;
;---------------------------------------------------------------------------
; Walk
[statedef 20]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(floor(fvar(39))&8388608)
trigger1=animelem=1
value=0
ctrl=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=command="holdfwd"
x=const(velocity.walk.fwd.x)
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=command="holdback"
x=const(velocity.walk.back.x)
[state ]
type=changeanim
triggerall=!ishelper
triggerall=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=vel x>0
trigger1=anim!=20&&anim!=5
trigger2=anim=5&&animtime=0
value=20
[state ]
type=changeanim
triggerall=!ishelper
triggerall=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=vel x<0
trigger1=anim!=21&&anim!=5
trigger2=anim=5&&animtime=0
value=21
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;AI後ろ歩き
[statedef 19]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=21
value=21
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=const(velocity.walk.back.x)
[state ]
type=changestate
persistent=256
triggerall=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate!=2
trigger2=p2bodydist x>=200
trigger3=inguarddist
trigger3=random<=100*((floor(fvar(39))&8388608))
trigger4=backedgebodydist<=0
trigger5=random<=100
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;AI前歩き
[statedef 21]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=20
value=20
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=const(velocity.walk.fwd.x)
[state ]
type=changestate
persistent=256
triggerall=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate!=2
trigger2=p2bodydist x<=15
trigger3=inguarddist
trigger3=random<=100*((floor(fvar(39))&8388608))
trigger4=random<=100
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
[statedef 40]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=1
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=40
value=40
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(floor(fvar(39))&8388608)
trigger1=floor((sysvar(3)&536608768)/262144)=0
value=0
ctrl=1
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
x=ifelse(!(command="holdfwd"||command="holdback"),const(velocity.jump.neu.x),ifelse(command="holdfwd",const(velocity.jump.fwd.x),const(velocity.jump.back.x)))
y=const(velocity.jump.y)
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
trigger1=prevstateno=100;RUN_FWD
trigger1=command="holdfwd"
x=const(velocity.runjump.fwd.x)
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=50
ctrl=1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;AI前小ジャンプ
[statedef 45]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=1
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=40
value=40
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=varset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
var(40)=(var(40)|6)-6+2
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
x=const(velocity.jump.fwd.x)
y=const(velocity.jump.y)
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
trigger1=prevstateno=100;RUN_FWD
trigger1=(var(40)&6)/2=1
x=const(velocity.runjump.fwd.x)
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=50
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; commonより ダッシュ
[statedef 101]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=1
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=101
value=101
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=const(velocity.run.fwd.x)
[state ];Prevent run from canceling into walk
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
flag=nowalk
[state ];Prevent from turning
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
flag=noautoturn
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=!(floor(fvar(39))&8388608)
trigger1=command!="holdfwd"
value=0
[state ]
type=changestate
persistent=256
triggerall=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=(floor(fvar(39))&8388608)
trigger1=inguarddist
trigger2=enemynear(NumEnemy>1&&!EnemyNear,Alive),ctrl
trigger2=p2bodydist x<=90
trigger3=p2statetype=l
trigger3=p2bodydist x<=90
trigger4=p2statetype!=a
trigger4=p2movetype=h||(p2stateno=[120,159])
trigger4=p2statetype!=l
trigger4=p2bodydist x<=18
trigger5=p2statetype=a
trigger5=p2movetype=h||(p2stateno=[120,159])
trigger5=p2statetype!=l
trigger5=p2bodydist x<=45
trigger6=p2movetype=a
trigger7=facing=enemynear(NumEnemy>1&&!EnemyNear,Alive),facing
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; commonより ダッシュ
[statedef 100]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=1
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=100
value=100
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ];効果音
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=40,1
[state ];効果音
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=200,random%3
[state ];効果音
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=4
value=40,0
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=const(velocity.run.fwd.x)
[state ];Prevent run from canceling into walk
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
flag=nowalk
[state ];Prevent from turning
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
flag=noautoturn
[state ]
type=changestate
persistent=256
triggerall=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(floor(fvar(39))&8388608)
trigger1=command!="holdfwd"
trigger2=(floor(fvar(39))&8388608)
trigger2=!animtime
value=0
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; commonより バックステップ
[statedef 105]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=104
value=104
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=106
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
; 空中
[statedef 106]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=a
movetype=i
physics=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=1
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=105
value=105
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=1
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=-7.5
y=-3.8
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=vel y>0
trigger1=pos y>=-5
value=107
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=52
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
; 着地
[statedef 107]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=106
value=106
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
[state ]
type=posset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
y=0
[state ]
type=makedust
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=2
pos=-5,-2
spacing=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[statedef 170]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=171
value=171
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
[statedef 180]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(sysvar(4)&8191)!=[181,185]
value=181+random%5
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(sysvar(4)&8191)=[181,185]
value=(sysvar(4)&8191)
ignorehitpause=1
[state ]
type=assertspecial
triggerall=alive
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1);floor((sysvar(2)&536608768)/262144) = [0,250]
flag=roundnotover
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=assertspecial
trigger1=alive
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=[0,250]
flag=roundnotover
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; 勝った動作１
[statedef 185]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
;trigger1=var(0):=(floor(sysfvar(2))|1023)-1023+(floor(sysfvar(2))&1023)%5||1
value=180+(floor(sysfvar(2))&1024)
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=183
value=183
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ];効果音
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=6
value=190,1
[state ];我
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=6
value=187,0
[state ];ガイアと共にあり
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=23
value=187,1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=6
damage=0
attr=
hitflag=
pausetime=0,0
projanim=185
ProjSprPriority=-5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=assertspecial
triggerall=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=alive
trigger1=floor((sysvar(3)&536608768)/262144)=[0,250]
flag=roundnotover
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; 勝った動作[天上天下]
[statedef 181]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=181
value=181
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ];天上天下
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=50
value=181,0
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
damage=0
attr=
hitflag=
pausetime=0,0
projanim=182
ProjSprPriority=-5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=alive
trigger1=floor((sysvar(3)&536608768)/262144)=[0,250]
flag=roundnotover
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; 勝った動作[下の下だな]
[statedef 182]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=183
value=183
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=7
value=190,1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(57)=12
value=182,0
[state ]
type=assertspecial
triggerall=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=alive
trigger1=floor((sysvar(3)&536608768)/262144)=[0,250]
flag=roundnotover
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; 勝った動作[儚いものだ]
[statedef 183]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=184
value=184
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=9
value=2300,1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
damage=0
attr=
hitflag=
pausetime=0,0
projanim=185
ProjSprPriority=-5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=alive
trigger1=floor((sysvar(3)&536608768)/262144)=[0,250]
flag=roundnotover
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; 勝った動作[血]
[statedef 184]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=186
value=186
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ];斬る
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=240,0
[state ];画面フラッシュ
type=envcolor
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
persistent=0
ignorehitpause=1
time=2
value=255,255,255
under=1
[state ]
type=poweradd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=1000
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=alive
trigger1=floor((sysvar(3)&536608768)/262144)=[0,250]
flag=roundnotover
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 通常登場
[statedef 190]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=193
value=193
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=posset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=10
value=191,0
volume=255
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=27
value=191,1
volume=255
[state ];火柱
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=193
trigger1=animelem=27
value=193,2
[state ];火柱
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=193
trigger1=animelem=32
value=190,2
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=27
damage=0
attr=
hitflag=
pausetime=0,0
projanim=191
projremove=1
projremovetime=147
ProjSprPriority=5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=hitby
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate<2&&numhelper
value=c,na
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
flag=intro
flag2=nowalk
ignorehitpause=1
[state ]
type=varset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
sysvar(4)=(sysvar(4)|8191)-8191
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=0
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
[statedef 191]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=193
value=193
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=posset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=10
value=191,0
volume=255
[state ]
type=playsnd
trigger1=animelem=27
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=191,1
volume=255
[state ];火柱
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=27
value=193,2
[state ];火柱
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=29
value=190,2
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=27
damage=0
attr=
hitflag=
pausetime=0,0
projanim=191
projremove=1
projremovetime=147
ProjSprPriority=5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
flag=intro
flag2=nowalk
ignorehitpause=1
[state ]
type=varset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
sysvar(4)=(sysvar(4)|8191)-8191
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=0
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
; 挑発の動作
[statedef 195]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=195
value=195
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ];我のみを尊ぶ
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=3
value=195,0
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=40
value=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
; 遠距離立ち・弱・パンチ・の動作
[statedef 200]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=200
value=200
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=s,na;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
damage=38*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),0;ダメージ量（左が当たった時、右はガードした時）
getpower=61,61
animtype=light;当てた時の相手のポーズ（light/midium/hard/back）から選択
guardflag=ma;ガードできる状態（ｍaは全ての状態でガード可能）
hitflag=maf;当てる事のできる条件
priority=3,hit;攻撃の優先権（0弱い　4通常　7強い
pausetime=7,8
sparkno=s7000;ヒットエフェクトのスプライトステート（無ければ0）
sparkxy=-5,-89;ヒットエフェクトを表示する場所（相手の座標で）
hitsound=s300,random%3;ヒットした時の音（ｓ*,*にすると自分の音を使う）
guard.sparkno=s7010
guardsound=s120,0;ガードした時の音（同上）
Ground.CornerPush.VelOff=0
ground.type=high;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
ground.slidetime=9;相手が後にすべる時間
ground.hittime=9;コンボが繋がる時間（高くしすぎない事）
ground.velocity=-6;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
airguard.velocity=-1.9,-2;空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
air.type=low;空中で相手がくらった場所（上と同じ）
air.velocity=-1.4,-3;空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
air.hittime=12;空中でコンボが繋がる時間
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=playsnd
trigger1=animelem=2
value=201,0
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=3
value=1
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; 近距離立ち・弱・パンチ・の動作
[statedef 205]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=205
value=205
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=s,na;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
damage=29*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),0;ダメージ量（左が当たった時、右はガードした時）
getpower=61,61
animtype=light;当てた時の相手のポーズ（light/midium/hard/back）から選択
guardflag=ma;ガードできる状態（ｍaは全ての状態でガード可能）
hitflag=maf;当てる事のできる条件
priority=3,hit;攻撃の優先権（0弱い　4通常　7強い
pausetime=7,8
sparkno=s7000;ヒットエフェクトのスプライトステート（無ければ0）
sparkxy=-20,-69;ヒットエフェクトを表示する場所（相手の座標で）
hitsound=s300,random%3;ヒットした時の音（ｓ*,*にすると自分の音を使う）
guard.sparkno=s7010
guardsound=s120,0;ガードした時の音（同上）
Ground.CornerPush.VelOff=0
ground.type=high;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
ground.slidetime=9;相手が後にすべる時間
ground.hittime=9;コンボが繋がる時間（高くしすぎない事）
ground.velocity=-6;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
airguard.velocity=-1.9,-2;空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
air.type=low;空中で相手がくらった場所（上と同じ）
air.velocity=-1.4,-3;空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
air.hittime=12;空中でコンボが繋がる時間
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=2
value=201,0
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=3
value=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;遠距離強パンチ
[statedef 210]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=210
value=210
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=4
value=211,0
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=7
damage=0
attr=
hitflag=
pausetime=0,0
projanim=211
offset=-10,0
projremove=1
projremovetime=20
ProjSprPriority=5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=s,na
animtype=hard
damage=106*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=30,30
guardflag=ma
pausetime=8,10
sparkno=s7001
sparkxy=-10,-77
hitsound=s310,random%3
guardsound=s120,0
guard.sparkno=s7011
Ground.CornerPush.VelOff=0
ground.type=high
ground.slidetime=17
ground.hittime=17
ground.velocity=-10.5
air.velocity=-2.5,-4
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=9
attr=s,na
animtype=hard
damage=70*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=30,30
guardflag=ma
pausetime=11,12
sparkno=s7001
sparkxy=-10,-75
hitsound=s300,random%3
guardsound=s120,0
guard.sparkno=s7011
Ground.CornerPush.VelOff=0
ground.type=low
ground.slidetime=17
ground.hittime=17
ground.velocity=-10.5
air.velocity=-2.5,-4
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; 近距離立ち・強・パンチ・の動作
[statedef 215]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=215
value=215
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=2
value=211,0
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
damage=0
attr=
hitflag=
pausetime=0,0
projanim=211
offset=-20,0
projremove=1
projremovetime=20
ProjSprPriority=5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=5
attr=s,na
animtype=hard
damage=135*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=61,61
guardflag=ma
pausetime=11,12
sparkno=s7001
sparkxy=-30,-75
hitsound=s310,random%3
guard.sparkno=s7011
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=high
ground.slidetime=17
ground.hittime=17
ground.velocity=-8
air.velocity=-4,-3
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;遠距離 立ち・弱・キック
[statedef 230]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=230
value=230
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=2
value=221,0
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=3
damage=0
attr=
hitflag=
pausetime=0,0
projanim=231
offset=77,-91
projremove=1
projremovetime=12
ProjSprPriority=3
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=4
damage=0
attr=
hitflag=
pausetime=0,0
projanim=231
offset=35,-21
projremove=1
projremovetime=12
ProjSprPriority=3
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=s,na
animtype=light
damage=38*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=61,61
guardflag=ma
pausetime=7,8
sparkno=s7000
sparkxy=-15,-57
hitsound=s330,random%3
guard.sparkno=s7010
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=high
ground.slidetime=9
ground.hittime=9
ground.velocity=-5
air.velocity=-2.5,-3.5
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;近距離 立ち・弱・キック
[statedef 235]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=235
value=235
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=2
value=221,0
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=3
damage=0
attr=
hitflag=
pausetime=0,0
projanim=231
offset=33,-20
projremove=1
projremovetime=12
ProjSprPriority=3
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=4
damage=0
attr=
hitflag=
pausetime=0,0
projanim=231
offset=62,-54
projremove=1
projremovetime=12
ProjSprPriority=3
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=s,na
animtype=light
damage=29*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=30,30
guardflag=ma
pausetime=7,8
sparkno=s7000
sparkxy=-10,-20
hitsound=s330,random%3
guard.sparkno=s7010
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=high
ground.slidetime=9
ground.hittime=9
ground.velocity=-5
air.velocity=-2.5,-3.5
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=4
attr=s,na
animtype=light
damage=29*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=30,30
guardflag=ma
pausetime=9,10
sparkno=s7000
sparkxy=-30,-54
hitsound=s330,random%3
guard.sparkno=s7010
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=high
ground.slidetime=9
ground.hittime=9
ground.velocity=-5
air.velocity=-2.5,-3.5
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;遠距離 立ち・強・キック
[statedef 240]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=240
value=240
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=4
value=240,1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=2
damage=0
attr=
hitflag=
pausetime=0,0
projanim=241
;offset=77,-91
projremove=1
projremovetime=14
ProjSprPriority=5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=s,na
animtype=hard
damage=96*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=30,30
guardflag=ma
pausetime=8,10
sparkno=s7001
sparkxy=-15,-85
hitsound=s240,0
guard.sparkno=s7011
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=high
ground.slidetime=17
ground.hittime=17
ground.velocity=-3,-6
air.velocity=-3,-5.2
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=4
attr=s,na
animtype=hard
damage=58*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=30,30
guardflag=ma
pausetime=11,12
sparkno=s7001
sparkxy=-15,-106
hitsound=s240,0
guard.sparkno=s7011
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=high
ground.slidetime=17
ground.hittime=17
ground.velocity=-2,-5
air.velocity=-2,-5.0
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=posadd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=3
x=4
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; 近距離立ち・強・キック
[statedef 245]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=245
value=245
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=1
value=221,0
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=s,na
animtype=hard
damage=96*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=30,30
guardflag=ma
pausetime=8,10
sparkno=s7001
sparkxy=-25,-55
hitsound=s340,random%3
guard.sparkno=s7011
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=low
ground.slidetime=27
ground.hittime=27
ground.velocity=0
air.velocity=-3,-5.2
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=10
attr=s,na
animtype=hard
damage=58*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=30,30
guardflag=ha
pausetime=11,12
sparkno=s7001
sparkxy=-25,-96
hitsound=s340,random%3
guard.sparkno=s7011
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=low
ground.slidetime=17
ground.hittime=17
ground.velocity=-10
air.velocity=-2,-5.0
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
; ふっ飛ばし攻撃
[statedef 290]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=290
value=290
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=3
value=211,0
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=4
damage=0
attr=
hitflag=
pausetime=0,0
projanim=211
offset=-36,-18
projremove=1
projremovetime=20
ProjSprPriority=5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=s,na
animtype=hard
damage=98*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=136,136
guardflag=ma
pausetime=11,12
sparkno=s7001
sparkxy=-15,-77
hitsound=s225,1
guard.sparkno=s7011
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=low
ground.slidetime=17
ground.hittime=17
ground.velocity=-4,-4.5
air.velocity=-4,-4.8
fall=1
fall.recover=0
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;屈み・弱・パンチ
[statedef 400]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=c
movetype=a
physics=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=400
value=400
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=1
value=201,0
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=c,na
damage=19*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
priority=3
animtype=light
hitflag=maf
guardflag=m
getpower=60,60
pausetime=7,8
sparkno=s7000
sparkxy=-10,-37
hitsound=s300,random%3
guard.sparkno=s7010
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=high
ground.slidetime=9
ground.hittime=9
ground.velocity=-5
air.velocity=-2.5,-3
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=3
value=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=11
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;屈み・強・パンチ
[statedef 410]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=c
movetype=a
physics=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=410
value=410
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=221,0
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=c,na
damage=96*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
animtype=hard
hitflag=maf
guardflag=m
pausetime=11,12
getpower=30,30
sparkno=s7001
sparkxy=-10,-73
hitsound=s310,random%3
guard.sparkno=s7011
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=low
ground.slidetime=17
ground.hittime=17
ground.velocity=-7
air.velocity=-3,-6
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=7
attr=c,na
damage=70*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
animtype=hard
hitflag=maf
guardflag=m
pausetime=11,12
getpower=30,30
sparkno=s7001
sparkxy=-12,-78
hitsound=s310,random%3
guard.sparkno=s7011
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=low
ground.slidetime=17
ground.hittime=17
ground.velocity=-3,-5
air.velocity=-3,-6
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=11
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;屈み・弱・キック
[statedef 430]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=c
movetype=a
physics=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=430
value=430
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=1
value=221,0
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=c,na
damage=19*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
animtype=light
hitflag=maf
guardflag=l
pausetime=6,8
sparkno=s7000
sparkxy=-10,-12
hitsound=s330,random%3
getpower=30,30
guard.sparkno=s7010
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=low
ground.slidetime=9
ground.hittime=9
ground.velocity=-5
air.velocity=-2,-3
down.velocity=-5,0
down.hittime=20
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=3
value=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=11
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;屈み・強・キック
[statedef 440]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=c
movetype=a
physics=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=440
value=440
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
triggerall=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=2
trigger2=animelem=5
value=221,0
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=c,na
damage=154*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
hitflag=maf
guardflag=l
pausetime=11,12
sparkno=s7001
getpower=61,61
sparkxy=-15,-18
hitsound=s340,random%3
guardsound=s120,0
guard.sparkno=s7011
Ground.CornerPush.VelOff=0
ground.type=trip
ground.slidetime=10
ground.hittime=15
ground.velocity=-1.5,-5
air.velocity=-4,-4
guard.velocity=-5
fall=1
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=11
ctrl=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;空中・弱・パンチ
[statedef 600]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=a
movetype=a
physics=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=600
value=600
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=1
value=201,0
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=a,na
damage=38*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=61,61
guardflag=ha
priority=3
pausetime=7,8
sparkno=s7000
sparkxy=-10,-79
hitsound=s300,random%3
guard.sparkno=s7010
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=low
ground.slidetime=5
ground.hittime=5
ground.velocity=-4
air.velocity=-1.3,-3
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;空中・強・パンチ
[statedef 610]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=a
movetype=a
physics=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=610
value=610
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=1
value=220,1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=a,na
damage=125*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
guardflag=ha
getpower=61,61
priority=4
pausetime=12,12
sparkno=s7001
sparkxy=-10,-76
hitsound=s310,random%3
guard.sparkno=s7011
guardsound=s120,0
Ground.CornerPush.VelOff=0
animtype=med
ground.type=low
ground.slidetime=17
ground.hittime=17
ground.velocity=-5
air.velocity=-3,-4
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;垂直空中・弱・キック
[statedef 630]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=a
movetype=a
physics=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=630
value=630
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=1
value=221,0
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=a,na
damage=36*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=61,61
guardflag=ha
priority=3
pausetime=8,8
sparkno=s7000
sparkxy=-5,-51
hitsound=s330,random%3
guard.sparkno=s7010
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=low
ground.slidetime=6
ground.hittime=6
ground.velocity=-4
air.velocity=-2,-3
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;空中・強・キック
[statedef 640]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=a
movetype=a
physics=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=640
value=640
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=2
value=221,0
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=a,na
damage=135*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
guardflag=ha
getpower=61,61
priority=4
pausetime=12,12
sparkno=s7001
sparkxy=-10,-61
hitsound=s340,random%3
guard.sparkno=s7011
guardsound=s120,0
Ground.CornerPush.VelOff=0
animtype=med
ground.type=low
ground.slidetime=17
ground.hittime=17
ground.velocity=-5
air.velocity=-3,-4
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;---------------------------------------------------------------------------
;空中ふっ飛ばし攻撃
[statedef 690]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=a
movetype=a
physics=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=sprpriority
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=2
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=690
value=690
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=floor((sysvar(3)&536608768)/262144)=2
value=211,0
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=2
damage=0
attr=
hitflag=
pausetime=0,0
projanim=211
offset=-29,-13
projremove=1
projremovetime=20
ProjSprPriority=5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelem=1
attr=a,na
animtype=hard
damage=98*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
getpower=120,120
guardflag=ma
pausetime=11,12
sparkno=s7001
sparkxy=-15,-75
hitsound=s225,1
guard.sparkno=s7011
guardsound=s120,0
Ground.CornerPush.VelOff=0
ground.type=low
ground.slidetime=17
ground.hittime=17
ground.velocity=-4,-4.5
air.velocity=-4,-4.8
fall=1
fall.recover=0
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;死華
[statedef 1100]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=1100
value=1100
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=1300,0
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=1100,1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
attr=s,sp
damage=0;105*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
postype=p1
projid=4
animtype=hard
pausetime=0,12
offset=(1-(random%2)*2)*(random%180),-random%200
projanim=1250
projhitanim=2415
projremanim=1260
projscale=0.5,0.5
projshadow=0,0,0
projhits=1
projmisstime=1
projpriority=7
projremovetime=210
sparkno=-1
guard.sparkno=-1
hitsound=s1000,1
guardsound=-1
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-6,0
air.velocity=-3,-4
supermovetime=-1
pausemovetime=-1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
attr=s,sp
damage=105*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
postype=p1
projid=4
animtype=hard
pausetime=0,12
offset=(1-(random%2)*2)*(random%180),-random%200
projanim=1250
projhitanim=2415
projremanim=1260
projscale=0.5,0.5
projshadow=0,0,0
projhits=1
projmisstime=1
projpriority=7
projremovetime=177
sparkno=-1
guard.sparkno=-1
hitsound=s1000,1
guardsound=-1
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-6,0
air.velocity=-3,-4
supermovetime=-1
pausemovetime=-1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
attr=s,sp
damage=105*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
postype=p1
projid=4
animtype=hard
pausetime=0,12
offset=(1-(random%2)*2)*(random%180),-random%200
projanim=1250
projhitanim=2415
projremanim=1260
projscale=0.5,0.5
projshadow=0,0,0
projhits=1
projmisstime=1
projpriority=7
projremovetime=110
sparkno=-1
guard.sparkno=-1
hitsound=s1000,1
guardsound=-1
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-6,0
air.velocity=-3,-4
supermovetime=-1
pausemovetime=-1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
attr=s,sp
damage=105*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
postype=p1
projid=4
animtype=hard
pausetime=0,12
offset=(1-(random%2)*2)*(random%180),-random%200
projanim=1250
projhitanim=2415
projremanim=1260
projscale=0.5,0.5
projshadow=0,0,0
projhits=1
projmisstime=1
projpriority=7
projremovetime=180
sparkno=-1
guard.sparkno=-1
hitsound=s1000,1
guardsound=-1
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-6,0
air.velocity=-3,-4
supermovetime=-1
pausemovetime=-1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
attr=s,sp
damage=105*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
postype=p1
projid=4
animtype=hard
pausetime=0,12
offset=(1-(random%2)*2)*(random%180),-random%200
projanim=1250
projhitanim=2415
projremanim=1260
projscale=0.5,0.5
projshadow=0,0,0
projhits=1
projmisstime=1
projpriority=7
projremovetime=120
sparkno=-1
guard.sparkno=-1
hitsound=s1000,1
guardsound=-1
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-6,0
air.velocity=-3,-4
supermovetime=-1
pausemovetime=-1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
attr=s,sp
damage=105*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
postype=p1
projid=4
animtype=hard
pausetime=0,12
offset=(1-(random%2)*2)*(random%180),-random%200
projanim=1250
projhitanim=2415
projremanim=1260
projscale=0.5,0.5
projshadow=0,0,0
projhits=1
projmisstime=1
projpriority=7
projremovetime=154
sparkno=-1
guard.sparkno=-1
hitsound=s1000,1
guardsound=-1
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-6,0
air.velocity=-3,-4
supermovetime=-1
pausemovetime=-1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
attr=s,sp
damage=105*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
postype=p1
projid=4
animtype=hard
pausetime=0,12
offset=(1-(random%2)*2)*(random%180),-random%200
projanim=1250
projhitanim=2415
projremanim=1260
projscale=0.5,0.5
projshadow=0,0,0
projhits=1
projmisstime=1
projpriority=7
projremovetime=140
sparkno=-1
guard.sparkno=-1
hitsound=s1000,1
guardsound=-1
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-6,0
air.velocity=-3,-4
supermovetime=-1
pausemovetime=-1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;炎玉
[statedef 1200]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=1200
value=1200
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=6
value=1400,1
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=17
value=2000,3
ignorehitpause=1
[State 2000, 6];刺す
type = PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1 = animelem = 7
value = 2000,4
ignorehitpause=1
[State 2000, 6];抜く
type = PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1 = animelem = 9
value = 240,0
ignorehitpause=1
[State 2000, 6];潰す
type = PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1 = animelem = 18
value = 2000,5
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=7||animelem=8
attr=
hitflag=
damage=0
postype=p1
animtype=hard
pausetime=0,0
velocity=0,0
projanim=7002
projremovetime=12
projshadow=0,0,0
offset=50,-65
projremove=1
projhits=1
projmisstime=1
projpriority=7
ground.type=high
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=18
attr=
hitflag=
damage=0
postype=p1
animtype=hard
pausetime=0,0
velocity=0,0
projanim=7003
projremovetime=12
projshadow=0,0,0
offset=58,-83
projremove=1
projhits=1
projmisstime=1
projpriority=7
ground.type=high
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=8
attr=
hitflag=
damage=0
postype=p1
animtype=hard
pausetime=0,0
velocity=0,0
projanim=1202
projremovetime=72
projshadow=0,0,0
projremove=1
projhits=1
projmisstime=1
projpriority=-1
ground.type=high
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;炎門
[statedef 1300]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=1300
value=1300
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[State ]
type=PlayerPush
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=S1100,1
channel=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
attr=a,np
hitflag=mafdp
guardflag=
damage=0;85*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
pausetime=2,2
animtype=diagup
projremovetime=80
projremove=1
projid=1
projanim=1305
projhitanim=2415
projremanim=1310
;projcancelanim=804
postype=p1
offset=50,-80
velocity=0,1
projscale=0.8,0.8
projpriority=10
projsprpriority=3
projedgebound=220
sparkno=-1;s7002
guard.sparkno=-1;S7012
sparkxy=0,0
hitsound=s193,2
guardsound=s193,2
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-5,0
air.velocity=-4,-5
air.fall=1
fall=1
fall.recover=0
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
attr=a,np
hitflag=mafdp
guardflag=
damage=0;85*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
pausetime=2,2
animtype=diagup
projremovetime=80
projremove=1
projid=2
projanim=1305
projhitanim=2415
projremanim=1310
;projcancelanim=804
postype=p1
offset=120,-80
velocity=0,1
projscale=0.8,0.8
projpriority=10
projsprpriority=3
projedgebound=220
sparkno=-1;s7002
guard.sparkno=-1;S7012
sparkxy=0,0
hitsound=s193,2
guardsound=s193,2
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-5,0
air.velocity=-4,-5
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
attr=a,np
hitflag=mafdp
guardflag=
damage=0;85*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
pausetime=2,2
animtype=diagup
projremovetime=80
projremove=1
projid=3
projanim=1305
projhitanim=2415
projremanim=1310
;projcancelanim=804
postype=p1
offset=190,-80
velocity=0,1
projscale=0.8,0.8
projpriority=10
projsprpriority=3
projedgebound=220
sparkno=-1;s7002
guard.sparkno=-1;S7012
sparkxy=0,0
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-5,0
air.velocity=-4,-5
fall.recover=0
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
attr=sa,sp
hitflag=mafdp
guardflag=
damage=0;85*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
pausetime=2,2
animtype=diagup
projremovetime=80
projremove=1
projid=4
projanim=1305
projhitanim=2415
projremanim=1310
;projcancelanim=804
postype=p1
offset=260,-80
velocity=0,1
projscale=0.8,0.8
projpriority=10
projsprpriority=3
projedgebound=220
sparkno=-1;s7002
guard.sparkno=-1;S7012
sparkxy=0,0
hitsound=s193,2
guardsound=s193,2
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-5,0
air.velocity=-4,-5
air.fall=1
fall=1
fall.recover=0
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=null
triggerall=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=AnimElemNo(0)=[5,11)
trigger1=!numprojid(1)
trigger1=0&&fvar(0):=(floor(fvar(0))|4096)
trigger2=!numprojid(2)
trigger2=0&&fvar(0):=(floor(fvar(0))|8192)
trigger3=!numprojid(3)
trigger3=0&&fvar(0):=(floor(fvar(0))|16384)
trigger4=!numprojid(4)
trigger4=0&&fvar(0):=(floor(fvar(0))|32768)
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=14
value=S2250,2
channel=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(floor(fvar(0))&4096)
trigger1=animelem=14
attr=sa,np
hitflag=mafdp
guardflag=
damage=0;65*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
pausetime=2,2
animtype=diagup
projremovetime=30
projremove=0
projid=11
projanim=1350
postype=p1
offset=50,0
velocity=0,0
projscale=0.8,0.8
projpriority=10
projsprpriority=3
projedgebound=220
sparkno=-1;s7002
guard.sparkno=-1;S7012
sparkxy=0,0
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-5,0
air.velocity=-4,-5
air.fall=1
fall=1
fall.recover=0
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(floor(fvar(0))&8192)
trigger1=animelem=14
attr=sa,np
hitflag=mafdp
guardflag=
damage=0;65*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
pausetime=2,2
animtype=diagup
projremovetime=30
projremove=1
projid=12
projanim=1350
postype=p1
offset=120,0
velocity=0,0
projscale=0.8,0.8
projpriority=10
projsprpriority=3
projedgebound=220
sparkno=-1;s7002
guard.sparkno=-1;S7012
sparkxy=0,0
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-5,0
air.velocity=-4,-5
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(floor(fvar(0))&16384)
trigger1=animelem=14
attr=sa,np
hitflag=mafdp
guardflag=
damage=0;65*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
pausetime=2,2
animtype=diagup
projremovetime=30
projremove=1
projid=13
projanim=1350
postype=p1
offset=190,0
velocity=0,0
projscale=0.8,0.8
projpriority=10
projsprpriority=3
projedgebound=220
sparkno=-1
guard.sparkno=-1
sparkxy=0,0
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-5,0
air.velocity=-4,-5
fall.recover=0
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(floor(fvar(0))&32768)
trigger1=animelem=14
attr=sa,sp
hitflag=mafdp
guardflag=
damage=0;65*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
pausetime=2,2
animtype=diagup
projremovetime=30
projremove=1
projid=14
projanim=1350
postype=p1
offset=260,0
velocity=0,0
projscale=0.8,0.8
projpriority=10
projsprpriority=3
projedgebound=220
sparkno=-1;s7002
guard.sparkno=-1;S7012
sparkxy=0,0
ground.type=high
ground.slidetime=14
ground.hittime=16
ground.velocity=-5,0
air.velocity=-4,-5
air.fall=1
fall=1
fall.recover=0
palfx.add=7,-200,-200
palfx.mul=256,256,256
palfx.sinadd=30,30,0,10
palfx.time=10
palfx.invertall=1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0+floor((fvar(0):=(floor(fvar(0))|61440)-61440))*0
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;天雷
[statedef 1400]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=1400
value=1400
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1

[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=10
value=s2000,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=1400
trigger1=animelemno(0)=15
trigger1=!(gametime%8)
value=s801,1
channel=-1
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=1400
trigger1=animelemno(0)=15
trigger1=!(gametime%32)
damage=0;85*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
attr=;sa,np
hitflag=;MAFD
pausetime=0,0
offset=(-facing)*(pos x-enemynear,pos x),0
projremovetime=38
projremove=0
projanim=1450
postype=p1
sparkno = s7002
sparkxy = -7,-40
hitsound   = s240,0
guard.sparkno = s7012
guardsound = s121,0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4,-6.5
fall = 1
air.fall = 1
fall.recover = 0
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=1400
trigger1=animelemno(0)=15
trigger1=(gametime%32)=16&&!(random%2)
damage=0;85*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
attr=;sa,np
hitflag=;MAFD
pausetime=0,0
offset=(-facing)*(pos x-enemynear,pos x),0
projremovetime=38
projremove=0
projanim=1450
postype=p1
sparkno = s7002
sparkxy = -7,-40
hitsound   = s240,0
guard.sparkno = s7012
guardsound = s121,0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4,-6.5
fall = 1
air.fall = 1
fall.recover = 0
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;欠壊
[statedef 1500]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=1500
value=1500
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1

[state ];効果音
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=6
value=190,1
ignorehitpause=1
[state ];斬る
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=59
value=240,0
ignorehitpause=1
[state ]
type=varset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(sysvar(4)&8192)
sysvar(4)=(sysvar(4)|8192)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;透過レーザー(弱)
[statedef 1600]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=1600
value=1600
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=S1100,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=6
value=S1100,1
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=10
value=S1400,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=10
value=S2200,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(10)=6
value=S1150,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=animelemtime(10)=7
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=S1150,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(10)=8
value=S1150,0
channel=-1
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(5)=1
damage=0
attr=
hitflag=
pausetime=0,0
offset=30,-45
projremovetime=120
projremove=1
projanim=1602
ProjSprPriority=5
projscale=1,.5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(5)=2
damage=0
attr=
hitflag=
pausetime=0,0
offset=60,0
projremovetime=120
projremove=1
projanim=1602
ProjSprPriority=5
projscale=1,1
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(5)=3
damage=0
attr=
hitflag=
pausetime=0,0
offset=90,30
projremovetime=120
projremove=1
projanim=1602
ProjSprPriority=5
projscale=1,1.5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(5)=1
damage=0
attr=
hitflag=
pausetime=0,0
offset=30,-45
projremovetime=89
projremove=1
projanim=1605
ProjSprPriority=15
projscale=1,.5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(5)=2
damage=0
attr=
hitflag=
pausetime=0,0
offset=60,0
projremovetime=89
projremove=1
projanim=1605
ProjSprPriority=15
projscale=1,1
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(5)=3
damage=0
attr=
hitflag=
pausetime=0,0
offset=90,30
projremovetime=89
projremove=1
projanim=1605
ProjSprPriority=15
projscale=1,1.5
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=10
damage=0
attr=
hitflag=
pausetime=0,0
offset=-85,-60
projremovetime=26
projremove=0
projanim=1601
ProjSprPriority=10
projscale=2,0.5
ProjEdgeBound=300
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=HitDef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=sysfvar(2)<=40+fvar(38)+26610-(!!(floor(fvar(37))&256))*10000
attr=
hitflag=
pausetime=0,0
sparkno=-1
damage=0
Numhits=0
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=animelemno(0)=10&&!(gametime%10)
attr=s,np
damage=0;38*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
animtype=light
hitflag=maf
priority=3,hit
pausetime=0,0
sparkno=s7001
sparkxy=-5,-89
hitsound=s2200,1
Ground.CornerPush.VelOff=0
ground.type=high
ground.slidetime=9
ground.hittime=9
ground.velocity=-6
airguard.velocity=-1.9,-2
air.type=low
air.velocity=-1.2,-0.1
air.hittime=15
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;コンバート(ゾンビモード)
[statedef 1700]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=c
movetype=a
physics=n
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=1700
value=1700
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
flag=nokosnd
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=7
value=S1700,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=11
value=S2300,0
channel=-1
ignorehitpause=1
[state ]
type=varset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!ishelper
trigger1=!(sysvar(3)&141072)
sysvar(3)=(sysvar(3)|141072)
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!hitpausetime&&ifelse(roundstate=2,!lose,1)
;&&!enemy,hitpausetime
;trigger1=!lose
attr=,na
hitflag=MAFD
pausetime=20,0
sparkno=-1
damage=0
affectteam=F
Ground.CornerPush.VelOff=0
Numhits=0
ignorehitpause=1
[state ]
type=lifeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=prevstateno!=33554432
trigger1=hitpausetime
trigger1=!lose
value=33554432
ignorehitpause=1
[state ]
type=changestate
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive&&!enemy,alive
value=1701
persistent=256
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
ignorehitpause=1
;コンバート(ゾンビモード)
[statedef 1701]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=c
movetype=a
physics=n
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=1700
value=1700
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
flag=nokosnd
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=7
value=S1700,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=11
value=S2300,0
channel=-1
ignorehitpause=1
[state ]
type=varset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!ishelper
trigger1=!(sysvar(3)&141072)
sysvar(3)=(sysvar(3)|141072)
ignorehitpause=1
[state ]
type=hitdef
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!hitpausetime
trigger1=!win;lose
attr=,na
hitflag=MAFD
pausetime=20,0
sparkno=-1
damage=0
affectteam=F
Ground.CornerPush.VelOff=0
Numhits=0
ignorehitpause=1
[State ]
type=LifeSet
trigger1=lifemax=1000
value=LifeMax-floor(1.0*(var(0)&255)*3.92)
ignorehitpause = 1
[State ]
type=LifeSet
trigger1=lifemax=500
value=LifeMax-floor(1.0*(var(0)&255)*1.96)
ignorehitpause = 1
[State ]
type=LifeSet
;trigger1=PlayerIDExist(floor(sysfvar(3)))
trigger1=RoundState>2
value=LifeMax;-PlayerID(floor(sysfvar(3))),AnimElemNo(0)+1
ignorehitpause=1
[state ]
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=hitpausetime
trigger1=!alive
value=33554433
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
ignorehitpause=1
;自壊
[statedef 2000]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=2000
value=2000
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=bgpalfx
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
add=ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4),ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4),ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4)
time=1
mul=256,256,256
sinadd=0,0,0,10
invertall=0
color=256
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=6,>=0
flag=nobg
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=3000,0
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=2
value=2100,0
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=6
value=2100,1
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=7
value=1900,3
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
damage=0
attr=
hitflag=
pausetime=0,0
offset=-1,-138
projremove=1
projremovetime=16
projanim=6011
ProjSprPriority=1
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=7
trigger1=(sysvar(3)&262143)>8000
trigger1=(random%2)
id=3143144
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=180
projremove=0
projpriority=-2
projanim=13000
postype=p1
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=null;projectile
trigger1=animelem=7
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=180
projremove=0
projpriority=-1
projanim=2002
postype=p1
offset=-ScreenPos x,-ScreenPos y
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=null;projectile
trigger1=animelem=7
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=180
projremove=0
projpriority=-3
projanim=2003
postype=p1
offset=-ScreenPos x,-ScreenPos y
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=null;hitdef
trigger1=!ishelper
trigger1=!(var(59)&32768)
trigger1=!(var(59)&536870912)
trigger1=animelem=5,>0
trigger1=animelem=39,<0
trigger1=!(sysvar(0)&1024)
attr=sca,ha,hp
animtype=hard
hitflag=mafd
damage=20*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),1*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
guardflag=m
pausetime=2,2
sparkno=-1
sparkxy=-30,-75
hitsound=s310,random%3
guard.sparkno=s7011
guardsound=s120,0
ground.type=high
ground.slidetime=17
ground.hittime=17
ground.velocity=-8
air.velocity=-4,-3
ignorehitpause=1
[state ]
type=null;hitdef
trigger1=!ishelper
trigger1=(var(59)&536870912)
trigger1=animelem=5,>0
trigger1=animelem=39,<0
attr=,aa,ap,at
animtype=hard
hitflag=mafd
affectteam=f
pausetime=5,5
sparkno=-1
sparkxy=-30,-75
hitsound=s310,random%3
guard.sparkno=s7011
guardsound=s120,0
ground.type=high
ground.slidetime=17
ground.hittime=17
ground.velocity=-8
air.velocity=-4,-3
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;高圧電流
[statedef 2100]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=2100
value=2100
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=bgpalfx
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
add=ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4),ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4),ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4)
time=1
mul=256,256,256
sinadd=0,0,0,10
invertall=0
color=256
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=8,>=0
flag=nobg
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=S3000,1
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=S192,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=7
value=S192,1
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2100
trigger1=animelemno(0)=8
trigger1=!(gametime%4)
value=s2700,1
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2100
trigger1=animelemno(0)=8
trigger1=!(gametime%8)
value=s2700,0
channel=-1
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
damage=0
attr=
hitflag=
pausetime=0,0
offset=-1,-138
projremove=1
projremovetime=16
projanim=6020
ProjSprPriority=1
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=8
damage=0
attr=
hitflag=
pausetime=0,0
offset=0,-40
projremove=1
projremovetime=160
projanim=2160
ProjSprPriority=1
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=null;projectile
trigger1=animelem=8
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=150
projremove=0
projpriority=300
projanim=2150
postype=p1
offset=-ScreenPos x,-ScreenPos y
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2100
trigger1=animelemno(0)=8
trigger1=!(gametime%16)
damage=0
attr=
hitflag=
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),0
projremovetime=38
projremove=0
projscale=.5,1
projanim=2110
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2100
trigger1=animelemno(0)=8
trigger1=(gametime%16)=8&&!(random%2)
damage=0
attr=
hitflag=
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),0
projremovetime=38
projremove=0
projscale=.5,1
projanim=2110
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;透過レーザー(強)
[statedef 2200]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=2200
value=2200
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[State ]
type=BGPalFx
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
time=1
mul=0,0,0
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=2
value=3000,3
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5||animelem=13
value=2250,2
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=1400,2
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=13
value=1400,1
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
damage=0
attr=
hitflag=
pausetime=0,0
offset=-1,-138
projremove=1
projremovetime=16
projanim=6011
ProjSprPriority=1
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
damage=0
attr=
hitflag=
pausetime=0,0
offset=-20,-35
projremove=1
projremovetime=52
projanim=2204
ProjSprPriority=10
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=13
damage=0
attr=
hitflag=
pausetime=0,0
offset=0,-5
projremove=1
projremovetime=52
projanim=2204
ProjSprPriority=10
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
damage=0
attr=
hitflag=
pausetime=0,0
offset=-20,-35
projremove=1
projremovetime=48
projanim=2205
ProjSprPriority=10
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=13
damage=0
attr=
hitflag=
pausetime=0,0
offset=0,-5
projremove=1
projremovetime=48
projanim=2205
ProjSprPriority=10
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
damage=0
attr=
hitflag=
pausetime=0,0
offset=55,-88
projremove=1
projremovetime=48
projanim=2209
ProjSprPriority=3
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=13
damage=0
attr=
hitflag=
pausetime=0,0
offset=68,-52
projremove=1
projremovetime=48
projanim=2209
ProjSprPriority=3
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
damage=0
attr=
hitflag=
pausetime=0,0
offset=73,-65
projremove=1
projremovetime=130
projanim=2207
ProjSprPriority=15
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type = HitDef
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=!(var(59)&536870912)
trigger1=GameTime%5=0
attr=S,HA
damage=85*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
guardflag=MA
hitflag=MAFD
priority=5
pausetime = 0,15
sparkno = s6070
sparkxy = 0,-86
guard.sparkno = s6070
hitsound = s901,0
guardsound = s901,0
ground.type = high
ground.slidetime = 10
ground.hittime = 5
ground.velocity = -3,-5
Ground.CornerPush.VelOff=0
air.velocity = -3,-5
affectteam = E
kill = 1
numhits = 1
animtype = back
fall = 1
fall.recover = 0
getpower = 0
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=2201
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;透過レーザー(強)
[statedef 2201]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=2201
value=2201
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[State ]
type=BGPalFx
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
time=1
mul=0,0,0
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[State ]
type=VelSet
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=AnimElem=3
y=-40
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=1400,3
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=2250,2
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(5)=(52+(animelemtime(5)>52)*4+(animelemtime(5)>56)*4+(animelemtime(5)>60)*4)
value=2250,4
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
damage=0
attr=
hitflag=
pausetime=0,0
offset=-14,-19
projremove=1
projremovetime=52
projanim=2202
ProjSprPriority=15
ProjEdgeBound=300
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(5)=52
damage=0
attr=
hitflag=
pausetime=0,0
offset=320,50
projremove=1
projremovetime=45
projanim=2203
ProjSprPriority=15
ProjEdgeBound=300
postype=back
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(5)=56
damage=0
attr=
hitflag=
pausetime=0,0
offset=170,50
projremove=1
projremovetime=45
projanim=2203
ProjSprPriority=15
ProjEdgeBound=300
postype=back
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(5)=60
damage=0
attr=
hitflag=
pausetime=0,0
offset=20,50
projremove=1
projremovetime=45
projanim=2203
ProjSprPriority=15
ProjEdgeBound=300
postype=back
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type = HitDef
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!(var(59)&32768)
trigger1=!(var(59)&536870912)
trigger1=GameTime%5=0
attr=S,HA
damage=85*(!(var(59)&8192))+var(1)*(!!(var(59)&8192)),10*(!(var(59)&8192))+var(1)*(!!(var(59)&8192))
guardflag=MA
hitflag=MAFD
priority=5
pausetime = 0,15
sparkno = s6070
hitsound = s901,0
ground.type = high
ground.slidetime = 10
ground.hittime = 5
Ground.CornerPush.VelOff=0
kill = 1
numhits = 1
animtype = back
fall = 1
fall.recover = 0
getpower = 0
sparkxy = 0,-46
ground.velocity = 0,-5
air.velocity = 0,-5
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=52
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;ファイアウォール
[statedef 2300]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=2300
value=2300
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=3000,3
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=5
value=1400,(random%4)
channel=-1
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=7
value=2301,0
channel=21
ignorehitpause=1
[state ]
type=bgpalfx
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=7,>0
time=550
color=0
add=-104,-104,7
mul=256,256,256
sinadd=56,56,0,10
invertall=1
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
damage=0
attr=
hitflag=
pausetime=0,0
offset=-1,-138
projremove=1
projremovetime=16
projanim=6021
ProjSprPriority=1
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=8
attr=
hitflag=
id=31431441
damage=0,0
pausetime=0,0
projremovetime=550
projremove=0
projanim=13000
postype=p1
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=8
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=700
projremove=0
projpriority=random%200
projanim=2315
postype=p1
offset=30,random%30
projscale=.5,.5
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=8
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=700
projremove=0
projpriority=random%200
projanim=2315
postype=p1
offset=-60,random%30
projscale=.5,.5
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=8
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=700
projremove=0
projpriority=random%200
projanim=2315
postype=p1
offset=120,random%30
projscale=.5,.5
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=8
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=700
projremove=0
projpriority=random%200
projanim=2315
postype=p1
offset=250,random%30
projscale=.5,.5
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=8
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=700
projremove=0
projpriority=random%200
projanim=2315
postype=p1
offset=-180,random%30
projscale=.5,.5
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;アラガンロット
[statedef 2400]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=2400
value=2400
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=bgpalfx
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
add=ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4),ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4),ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4)
time=1
mul=256,256,256
sinadd=0,0,0,10
invertall=0
color=256
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=4,>=0
flag=nobg
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=S3000,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=3
value=S2000,1
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=4
value=S2900,3
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemtime(4)=255
value=S2900,3
channel=-1
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
damage=0
attr=
hitflag=
pausetime=0,0
offset=-1,-138
projremove=1
projremovetime=16
projanim=6030
ProjSprPriority=1
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=null;projectile
trigger1=animelem=4
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=408
projremove=0
projpriority=-1
projanim=2450
postype=p1
offset=-ScreenPos x,-ScreenPos y
;projscale=2,2
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemno(0)=4
trigger1=animelemtime(4)>255
trigger1=!(gametime%5)&&!(random%2)
attr=
damage=0
postype=p1
hitflag=
animtype=hard
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),-(random%200)
projanim=2415
projshadow=0,0,0
projmisstime=1
projpriority=7
projremovetime=12
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemno(0)=4
trigger1=animelemtime(4)>255
trigger1=!(gametime%5)&&!(random%2)
attr=
damage=0
postype=p1
hitflag=
animtype=hard
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),-(random%200)
projanim=2415
projshadow=0,0,0
projmisstime=1
projpriority=7
projremovetime=12
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemno(0)=4
trigger1=animelemtime(4)>255
trigger1=!(gametime%5)&&!(random%2)
attr=
damage=0
postype=p1
hitflag=
animtype=hard
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),-(random%200)
projanim=2415
projshadow=0,0,0
projmisstime=1
projpriority=7
projremovetime=12
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemno(0)=4
trigger1=animelemtime(4)>255
trigger1=!(gametime%5)&&!(random%2)
attr=
damage=0
postype=p1
hitflag=
animtype=hard
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),-(random%200)
projanim=2415
projshadow=0,0,0
projmisstime=1
projpriority=7
projremovetime=12
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemno(0)=4
trigger1=animelemtime(4)>255
trigger1=!(gametime%5)&&!(random%2)
attr=
damage=0
postype=p1
hitflag=
animtype=hard
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),-(random%200)
projanim=2415
projshadow=0,0,0
projmisstime=1
projpriority=7
projremovetime=12
supermovetime=-1
pausemovetime=-1
ignorehitpause=1

[state ]
type=envcolor
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
ignorehitpause=1
time=10
value=0,0,0
under=2
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;アルマゲスト
[statedef 2500]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=2500
value=2500
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1

[state ]
type=bgpalfx
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
add=ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4),ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4),ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4)
time=1
mul=256,256,256
sinadd=0,0,0,10
invertall=0
color=256
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=6,>=0
flag=nobg
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=S3000,1
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=2
value=S181,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2500
trigger1=animelemno(0)=[6,45]
trigger1=!(gametime%40)
value=S2000,43
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2500
trigger1=animelem=6
value=S9000,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2500
trigger1=animelemtime(6)=75
value=S1150,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2500
trigger1=animelemtime(6)=190
value=S1150,1
channel=-1
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
damage=0
attr=
hitflag=
pausetime=0,0
offset=-1,-138
projremove=1
projremovetime=16
projanim=6031
ProjSprPriority=1
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=null;projectile
trigger1=animelem=6
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=205
projremove=0
projpriority=200
projanim=2550
postype=p1
offset=-ScreenPos x,-ScreenPos y
;projscale=2,2
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=null;projectile
trigger1=animelemtime(6)=75
attr=
hitflag=
damage=0,0
pausetime=0,0
projremovetime=148
projremove=0
projpriority=300
projanim=2510
postype=p1
offset=-ScreenPos x,-ScreenPos y
;projscale=2,2
sparkno=-1
guard.sparkno=-1
pausemovetime=2147483647
supermovetime=2147483647
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemno(0)>6
trigger1=!(gametime%20)&&!(random%2)
attr=
damage=0
postype=p1
hitflag=
animtype=hard
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),-(random%200)
projanim=2440
projshadow=0,0,0
projmisstime=1
projpriority=7
projremovetime=60
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemno(0)>6
trigger1=!(gametime%20)&&!(random%2)
attr=
damage=0
postype=p1
hitflag=
animtype=hard
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),-(random%200)
projanim=2440
projshadow=0,0,0
projmisstime=1
projpriority=7
projremovetime=60
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemno(0)>6
trigger1=!(gametime%20)&&!(random%2)
attr=
damage=0
postype=p1
hitflag=
animtype=hard
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),-(random%200)
projanim=2440
projshadow=0,0,0
projmisstime=1
projpriority=7
projremovetime=60
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemno(0)>6
trigger1=!(gametime%20)&&!(random%2)
attr=
damage=0
postype=p1
hitflag=
animtype=hard
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),-(random%200)
projanim=2440
projshadow=0,0,0
projmisstime=1
projpriority=7
projremovetime=60
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelemno(0)>6
trigger1=!(gametime%20)&&!(random%2)
attr=
damage=0
postype=p1
hitflag=
animtype=hard
pausetime=0,0
offset=(1-(random%2)*2)*(random%180),-(random%200)
projanim=2440
projshadow=0,0,0
projmisstime=1
projpriority=7
projremovetime=60
supermovetime=-1
pausemovetime=-1
ignorehitpause=1
[state ]
type=envcolor
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
ignorehitpause=1
time=10
value=0,0,0
under=2
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;グランドクロス
[statedef 2600]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=2600
value=2600
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1

[state ]
type=bgpalfx
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
add=ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4),ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4),ifelse(animelemtime(1)*4>256,-256,-animelemtime(1)*4)
time=1
mul=256,256,256
sinadd=0,0,0,10
invertall=0
color=256
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=40,>=0
flag=nobg
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=S3000,1
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=2
value=S190,1
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2600
trigger1=animelemtime(54)=16
value=S2900,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2600
trigger1=animelemtime(54)=[192,384]
trigger1=gametime%9=3
value=S2700,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2600
trigger1=animelemtime(54)=[276,384]
trigger1=gametime%9=6
value=S2700,1
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2600
trigger1=animelemtime(54)=360
value=S2300,0
channel=-1
ignorehitpause=1
[State ]
type=PlaySnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=2600
trigger1=animelemtime(54)=402
value=S2700,2
channel=-1
ignorehitpause=1
[State ]
type=Projectile
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
damage=0
attr=
hitflag=
pausetime=0,0
offset=-1,-138
projremove=1
projremovetime=16
projanim=6031
ProjSprPriority=1
postype=p1
sparkno=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[state ]
type=envcolor
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
ignorehitpause=1
time=10
value=0,0,0
under=2
[state ]
type=selfstate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animtime=0
value=0
ctrl=1
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
;物体壱九九
[statedef 3000]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
ctrl=0
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=s
movetype=i
physics=n
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=3000
value=3000
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=2000,2
ignorehitpause=1
[state ]
type=assertspecial
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
flag=timerfreeze
flag2=nobg
flag3=nomusic
ignorehitpause=1

[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1

[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=1
value=3000,3
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=animelem=6
value=2000,0
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=numprojid(10)
trigger1=animtime=0
sysvar(3)=(sysvar(3)|16775168)-16775168+3001*2048
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=animtime=0
value=3001
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=animtime=0
value=0
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
[statedef 4000]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=fvar(3)=20
value=1
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=anim!=13001
triggerall=anim!=3000003
triggerall=anim!=[3000005,3000006]
trigger1=fvar(3)=7
value=3000003
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=anim!=13001
triggerall=anim!=3000003
triggerall=anim!=[3000005,3000006]
trigger1=fvar(3)=19||fvar(3)=22||fvar(3)=25
value=3000006
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=anim!=13001
triggerall=anim!=3000003
triggerall=anim!=[3000005,3000006]
trigger1=fvar(3)=20||(fvar(3)=[26,27])
value=13001
elem=ifelse((fvar(3)=[26,27]),3,1)
ignorehitpause=1
[state ]
type=lifeset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(fvar(3)=[26,27])
value=ifelse(numprojid(31415),lifemax/10,lifemax-10)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=hitby
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=fvar(3)=7
value=sca,aa,at,ap
ignorehitpause=1
[state ]
type=defencemulset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=fvar(3)=7
value=0.0001
ignorehitpause=1
[state ]
type=hitfallset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=HitDef
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=fvar(3)=19
trigger1=animelemno(0)>=4
attr=,aa
hitflag=MAFD
pausetime=6,6
sparkno=-1
damage=0
affectteam=b
Numhits=0
ignorehitpause=1
[state ]
type=HitDef
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=fvar(3)=22&&!hitpausetime
trigger1=animelemno(0)>=4
attr=,aa
hitflag=MAFD
pausetime=2147483647,0
sparkno=-1
damage=0
affectteam=F
Numhits=0
ignorehitpause=1
[state ]
type=movehitreset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=fvar(3)=25&&movereversed>3
ignorehitpause=1
[state ]
type=HitDef
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=fvar(3)=25
trigger1=animelemno(0)>=4
attr=sca,aa,at,ap
hitflag=MAFD
sparkno=-1
damage=0
Numhits=0
[State ]
type=VelSet
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(fvar(3)=[26,27])
trigger1=HitPauseTime
X=3
Y=3
ignorehitpause=1
[State ]
type=PosSet
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(fvar(3)=[26,27])
trigger1=HitPauseTime
X=Enemy,Pos x+(GameTime%3)+1
Y=Enemy,Pos y+(GameTime%3)*2+5
ignorehitpause=1
[State ]
type=StateTypeSet
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(fvar(3)=[26,27])
trigger1=numprojid(31416)
;triggerall=HitPauseTime
MoveType=I
ignorehitpause=1
[State ]
type=Projectile
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(fvar(3)=[26,27])&&(enemy,stateno=[89027,89034])
trigger1=!numprojid(31415)
damage=0
projid=31415
attr=
hitflag=
pausetime=0,0
projanim=13000
projremove=0
projremovetime=-1
postype=p1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
triggerall=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=(fvar(3)=[26,27])
triggerall=!numprojid(31416)
triggerall=playeridexist(floor(sysfvar(3)))
trigger1=fvar(3)=26
trigger1=playeridexist(playerid(playerid(floor(sysfvar(3))),var((playerid(floor(sysfvar(3))),sysvar(0)))),sysvar(0))
;trigger1=PlayerID(playerid(playerid(floor(sysfvar(3))),var((playerid(floor(sysfvar(3))),sysvar(0)))),sysvar(0)),var(40)!=[1,150]
;trigger2=PlayerID(playerid(playerid(floor(sysfvar(3))),var((playerid(floor(sysfvar(3))),sysvar(0)))),sysvar(0)),var(40)=[1,150]
trigger1=PlayerID(playerid(playerid(floor(sysfvar(3))),var((playerid(floor(sysfvar(3))),sysvar(0)))),sysvar(0)),var(28)>300
trigger2=fvar(3)=27
trigger2=playeridexist(playerid(floor(sysfvar(3))),sysvar(0))
trigger2=PlayerID(playerid(floor(sysfvar(3))),sysvar(0)),var(28)>300
damage=0
projid=31416
attr=
hitflag=
pausetime=0,0
projanim=13000
projremove=0
projremovetime=300
postype=p1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=Projectile
triggerall=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=(fvar(3)=[26,27])
triggerall=!numprojid(31417)
triggerall=playeridexist(floor(sysfvar(3)))
trigger1=fvar(3)=26
trigger1=playeridexist(playerid(playerid(floor(sysfvar(3))),var((playerid(floor(sysfvar(3))),sysvar(0)))),sysvar(0))
trigger1=PlayerID(playerid(playerid(floor(sysfvar(3))),var((playerid(floor(sysfvar(3))),sysvar(0)))),sysvar(0)),var(29)>300
trigger2=fvar(3)=27
trigger2=playeridexist(playerid(floor(sysfvar(3))),sysvar(0))
trigger2=PlayerID(playerid(floor(sysfvar(3))),sysvar(0)),var(29)>300
damage=0
projid=31417
attr=
hitflag=
pausetime=0,0
projanim=13000
projremove=0
projremovetime=300
postype=p1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
ignorehitpause=1
[State ]
type=HitDef
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(fvar(3)=[26,27])
attr=,AA,AP,AT
animtype=hard
guardflag=
affectteam=F
pauseTime=2147483647,2147483647
sparkno=-1
hitsound=-1
guard.sparkno=-1
guardsound=-1
ground.type=low
[State ]
type=Projectile
triggerall=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
triggerall=fvar(3)=27
triggerall=numprojid(31415)
triggerall=playeridexist(floor(sysfvar(3)))
triggerall=playeridexist(playerid(floor(sysfvar(3))),sysvar(0))
triggerall=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(39)=0
triggerall=!(gametime%61)
triggerall=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(10)=0
trigger1=PlayerID(playerid(floor(sysfvar(3))),sysvar(0)),var(9)=[0,3]
trigger2=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(40)>=200
trigger2=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(9)=4
trigger2=random%4=0
trigger3=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(40)>=200
trigger3=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(9)=5
trigger3=random%3=0
trigger4=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(40)>=200
trigger4=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(9)=6
trigger4=random%2=0
trigger5=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(9)!=[0,6]
trigger6=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(9)>3
trigger7=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(40)<200
trigger7=random%2=0
trigger8=playerid(playerid(floor(sysfvar(3))),sysvar(0)),var(11)!=1
attr=SCA,AA;,AP,AT
hitflag=MAFD
animtype=back
damage=1
pausetime=0,0
projremovetime=1
projremove=0
projhits=2147483647
projanim=3000004
ProjPriority=2147483647
postype=p1
hitsound=-1
guard.sparkno=-1
PauseMoveTime=2147483647
SuperMoveTime=2147483647
IgnoreHitPause=1
[State ]
type=SelfState
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(fvar(3)=[26,27])
;trigger1=RoundState=2
;trigger1=HitPauseTime
trigger1=numprojid(31417)
value=0+((var(2):=0)+(var(59):=(var(59)|1)))*0
persistent=256
IgnoreHitPause=1
[state ]
type=selfstate
trigger1=(fvar(3)=[26,27])
trigger1=hitpausetime
value=314159211
persistent=256
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
;偽装用
[statedef 70010]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
[state ]
type=null
trigger1=0
ignorehitpause=1
;---------------------------------------------------------------------------
; Varのラウンド持ち越し
[statedef 5900]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=a
movetype=a
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ];Intro for round 1
type=changestate
persistent=256
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=190
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=!alive
value=5050
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
[statedef 5151]
type=u
movetype=u
physics=u
movehitpersist=1
hitdefpersist=1
hitcountpersist=1
[state ]
type=changestate
persistent=256
triggerall=name!="A_M T_D"
trigger1=(prevstateno!=[19919900,19919950])&&prevstateno!=31460006
trigger2=time||!ctrl
value=19919900
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name!="A_M T_D"
value=0
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
statetype=l
movetype=i
physics=n
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=2
movetype=i
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=3
movetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&12)/4=1
movetype=h
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=1
statetype=s
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=2
statetype=c
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=3
statetype=a
ignorehitpause=1
[state ]
type=statetypeset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=(var(59)&112)/16=4
statetype=l
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim!=515100&&anim!=13000
value=515100
ignorehitpause=1
[state ]
type=changeanim
triggerall=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=515100&&anim!=13000
trigger1=!animtime
value=13000
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper&&name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(3)=(sysvar(3)|536608768)-536608768
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=stateno!=(sysvar(4)&8191)
sysvar(4)=(sysvar(4)|8191)-8191+stateno
ignorehitpause=1
[state ]
type=velset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
x=0
y=0
ignorehitpause=1
[state ]
type=posset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
y=0
ignorehitpause=1
[state ]
type=ctrlset
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
value=0
ignorehitpause=1
[state ]
type=playsnd
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=anim=515100&&animelem=2
value=11,2
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
trigger1=roundstate>2
value=120
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|16383)-16383+(ifelse((abs(vel x)=[0,1638.3]),floor(abs(vel x*10)),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(vel y)=[0,1638.3]),floor(abs(vel y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|268435456)-268435456*(vel x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(1)=(sysvar(1)|536870912)-536870912*(vel y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|16383)-16383+(ifelse((abs(pos x)=[0,1638.3]),floor(abs(pos x)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268419072)-268419072+16384*(ifelse((abs(pos y)=[0,1638.3]),floor(abs(pos y)*10),16383))
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|268435456)-268435456*(pos x<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(2)=(sysvar(1)|536870912)-536870912*(pos y<0)
ignorehitpause=1
[state ]
type=varset
trigger1=!ishelper
trigger1=name="A_M T_D"&&ifelse((var(59)&1),stateno!=var(2),1)
sysvar(4)=(sysvar(4)|16384)-16384*ifelse(facing=1,0,1)
ignorehitpause=1
[state ]
type=selfstate
persistent=256
trigger1=!ishelper
trigger1=name="A_M T_D"
trigger1=roundstate<3
trigger1=(var(59)&1)&&stateno!=var(2)
value=var(2)
ignorehitpause=1
[Statedef 444444444]
[State ]
type=Assertspecial
trigger1=PlayerIDExist(ID)
flag=invisible
flag2=noshadow
ignorehitpause=1
[State ]
type=NotHitby
trigger1=PlayerIDExist(ID)
value=sca
ignorehitpause=1
[State ]
type=RemoveExplod
trigger1=PlayerIDExist(ID)
ignorehitpause=1
[State ]
type=DestroySelf
trigger1=PlayerIDExist(ID)
ignorehitpause=1
[state ]
type=changestate
trigger1=name="A_M T_D"
value=5150
ignorehitpause=1